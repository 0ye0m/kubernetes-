{"msg":"Test Suite starting","total":26,"completed":0,"skipped":0,"failed":0}
Running Suite: Kubernetes e2e suite
===================================
Random Seed: [1m1586213672[0m - Will randomize all specs
Will run [1m26[0m of [1m4849[0m specs

Apr  6 15:54:34.175: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
Apr  6 15:54:34.264: INFO: Waiting up to 30m0s for all (but 0) nodes to be schedulable
Apr  6 15:54:34.365: INFO: Waiting up to 10m0s for all pods (need at least 0) in namespace 'kube-system' to be running and ready
Apr  6 15:54:34.446: INFO: 9 / 9 pods in namespace 'kube-system' are running and ready (0 seconds elapsed)
Apr  6 15:54:34.446: INFO: expected 3 pod replicas in namespace 'kube-system', 3 are Running and Ready.
Apr  6 15:54:34.446: INFO: Waiting up to 5m0s for all daemonsets in namespace 'kube-system' to start
Apr  6 15:54:34.470: INFO: 1 / 1 pods ready in namespace 'kube-system' in daemonset 'calico-node' (0 seconds elapsed)
Apr  6 15:54:34.470: INFO: 1 / 1 pods ready in namespace 'kube-system' in daemonset 'kube-proxy' (0 seconds elapsed)
Apr  6 15:54:34.470: INFO: e2e test version: v1.19.0-alpha.0.103+f3038d5f5a79a8
Apr  6 15:54:34.472: INFO: kube-apiserver version: v1.17.3
Apr  6 15:54:34.472: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
Apr  6 15:54:34.481: INFO: Cluster IP family: ipv4
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce multiple ingress policies with ingress allow-all policy taking precedence [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:998[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 15:54:34.486: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
Apr  6 15:54:34.641: INFO: No PodSecurityPolicies found; assuming PodSecurityPolicy is disabled.
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-4412
Apr  6 15:54:34.692: INFO: Created pod server-4w9f9
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-4412
Apr  6 15:54:34.759: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 15:54:34.961: INFO: The status of Pod server-4w9f9 is Pending, waiting for it to be Running (with Ready = true)
Apr  6 15:54:36.967: INFO: The status of Pod server-4w9f9 is Pending, waiting for it to be Running (with Ready = true)
Apr  6 15:54:38.966: INFO: The status of Pod server-4w9f9 is Pending, waiting for it to be Running (with Ready = true)
Apr  6 15:54:40.967: INFO: The status of Pod server-4w9f9 is Running (Ready = false)
Apr  6 15:54:42.977: INFO: The status of Pod server-4w9f9 is Running (Ready = false)
Apr  6 15:54:44.975: INFO: The status of Pod server-4w9f9 is Running (Ready = false)
Apr  6 15:54:46.970: INFO: The status of Pod server-4w9f9 is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 15:54:46.991: INFO: Waiting for client-can-connect-80-24trw to complete.
Apr  6 15:54:51.007: INFO: Waiting for client-can-connect-80-24trw to complete.
Apr  6 15:54:51.007: INFO: Waiting up to 5m0s for pod "client-can-connect-80-24trw" in namespace "network-policy-4412" to be "Succeeded or Failed"
Apr  6 15:54:51.014: INFO: Pod "client-can-connect-80-24trw": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.631337ms
[1mSTEP[0m: Saw pod success
Apr  6 15:54:51.014: INFO: Pod "client-can-connect-80-24trw" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-24trw
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 15:54:51.142: INFO: Waiting for client-can-connect-81-tg5wp to complete.
Apr  6 15:54:55.167: INFO: Waiting for client-can-connect-81-tg5wp to complete.
Apr  6 15:54:55.168: INFO: Waiting up to 5m0s for pod "client-can-connect-81-tg5wp" in namespace "network-policy-4412" to be "Succeeded or Failed"
Apr  6 15:54:55.178: INFO: Pod "client-can-connect-81-tg5wp": Phase="Succeeded", Reason="", readiness=false. Elapsed: 9.971385ms
[1mSTEP[0m: Saw pod success
Apr  6 15:54:55.178: INFO: Pod "client-can-connect-81-tg5wp" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-tg5wp
[It] should enforce multiple ingress policies with ingress allow-all policy taking precedence [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:998
[1mSTEP[0m: Creating a network policy for the server which allows traffic only from client-b.
[1mSTEP[0m: Creating client-a which should not be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Apr  6 15:54:55.274: INFO: Waiting for client-a-p9d55 to complete.
Apr  6 15:54:55.274: INFO: Waiting up to 5m0s for pod "client-a-p9d55" in namespace "network-policy-4412" to be "Succeeded or Failed"
Apr  6 15:54:55.294: INFO: Pod "client-a-p9d55": Phase="Pending", Reason="", readiness=false. Elapsed: 19.328729ms
Apr  6 15:54:57.320: INFO: Pod "client-a-p9d55": Phase="Pending", Reason="", readiness=false. Elapsed: 2.04612629s
Apr  6 15:54:59.329: INFO: Pod "client-a-p9d55": Phase="Running", Reason="", readiness=true. Elapsed: 4.054846674s
Apr  6 15:55:01.335: INFO: Pod "client-a-p9d55": Phase="Running", Reason="", readiness=true. Elapsed: 6.061078265s
Apr  6 15:55:03.395: INFO: Pod "client-a-p9d55": Phase="Running", Reason="", readiness=true. Elapsed: 8.120655013s
Apr  6 15:55:05.403: INFO: Pod "client-a-p9d55": Phase="Running", Reason="", readiness=true. Elapsed: 10.128270529s
Apr  6 15:55:07.408: INFO: Pod "client-a-p9d55": Phase="Running", Reason="", readiness=true. Elapsed: 12.133318238s
Apr  6 15:55:09.485: INFO: Pod "client-a-p9d55": Phase="Running", Reason="", readiness=true. Elapsed: 14.21023665s
Apr  6 15:55:11.493: INFO: Pod "client-a-p9d55": Phase="Running", Reason="", readiness=true. Elapsed: 16.218657877s
Apr  6 15:55:13.505: INFO: Pod "client-a-p9d55": Phase="Running", Reason="", readiness=true. Elapsed: 18.23086157s
Apr  6 15:55:15.515: INFO: Pod "client-a-p9d55": Phase="Running", Reason="", readiness=true. Elapsed: 20.240361081s
Apr  6 15:55:17.525: INFO: Pod "client-a-p9d55": Phase="Running", Reason="", readiness=true. Elapsed: 22.25068785s
Apr  6 15:55:19.533: INFO: Pod "client-a-p9d55": Phase="Running", Reason="", readiness=true. Elapsed: 24.258490049s
Apr  6 15:55:21.542: INFO: Pod "client-a-p9d55": Phase="Running", Reason="", readiness=true. Elapsed: 26.267741991s
Apr  6 15:55:23.557: INFO: Pod "client-a-p9d55": Phase="Running", Reason="", readiness=true. Elapsed: 28.282207611s
Apr  6 15:55:25.563: INFO: Pod "client-a-p9d55": Phase="Running", Reason="", readiness=true. Elapsed: 30.288695566s
Apr  6 15:55:27.572: INFO: Pod "client-a-p9d55": Phase="Running", Reason="", readiness=true. Elapsed: 32.297756973s
Apr  6 15:55:29.579: INFO: Pod "client-a-p9d55": Phase="Running", Reason="", readiness=true. Elapsed: 34.305001263s
Apr  6 15:55:31.587: INFO: Pod "client-a-p9d55": Phase="Running", Reason="", readiness=true. Elapsed: 36.312531605s
Apr  6 15:55:33.596: INFO: Pod "client-a-p9d55": Phase="Running", Reason="", readiness=true. Elapsed: 38.321284239s
Apr  6 15:55:35.603: INFO: Pod "client-a-p9d55": Phase="Running", Reason="", readiness=true. Elapsed: 40.328386213s
Apr  6 15:55:37.609: INFO: Pod "client-a-p9d55": Phase="Running", Reason="", readiness=true. Elapsed: 42.335155895s
Apr  6 15:55:39.615: INFO: Pod "client-a-p9d55": Phase="Running", Reason="", readiness=true. Elapsed: 44.340840378s
Apr  6 15:55:41.620: INFO: Pod "client-a-p9d55": Phase="Running", Reason="", readiness=true. Elapsed: 46.346018441s
Apr  6 15:55:43.631: INFO: Pod "client-a-p9d55": Phase="Failed", Reason="", readiness=false. Elapsed: 48.356716639s
[1mSTEP[0m: Cleaning up the pod client-a-p9d55
[1mSTEP[0m: Creating client-b which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Apr  6 15:55:43.769: INFO: Waiting for client-b-qn55v to complete.
Apr  6 15:55:47.806: INFO: Waiting for client-b-qn55v to complete.
Apr  6 15:55:47.806: INFO: Waiting up to 5m0s for pod "client-b-qn55v" in namespace "network-policy-4412" to be "Succeeded or Failed"
Apr  6 15:55:47.811: INFO: Pod "client-b-qn55v": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.760215ms
[1mSTEP[0m: Saw pod success
Apr  6 15:55:47.811: INFO: Pod "client-b-qn55v" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-qn55v
[1mSTEP[0m: Creating a network policy for the server which allows traffic from all clients.
[1mSTEP[0m: Creating client-a which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 15:55:47.920: INFO: Waiting for client-a-krst9 to complete.
Apr  6 15:55:51.968: INFO: Waiting for client-a-krst9 to complete.
Apr  6 15:55:51.968: INFO: Waiting up to 5m0s for pod "client-a-krst9" in namespace "network-policy-4412" to be "Succeeded or Failed"
Apr  6 15:55:51.975: INFO: Pod "client-a-krst9": Phase="Succeeded", Reason="", readiness=false. Elapsed: 7.447376ms
[1mSTEP[0m: Saw pod success
Apr  6 15:55:51.975: INFO: Pod "client-a-krst9" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-krst9
[1mSTEP[0m: Creating client-b which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Apr  6 15:55:52.017: INFO: Waiting for client-b-sgjmb to complete.
Apr  6 15:55:56.099: INFO: Waiting for client-b-sgjmb to complete.
Apr  6 15:55:56.099: INFO: Waiting up to 5m0s for pod "client-b-sgjmb" in namespace "network-policy-4412" to be "Succeeded or Failed"
Apr  6 15:55:56.373: INFO: Pod "client-b-sgjmb": Phase="Succeeded", Reason="", readiness=false. Elapsed: 273.187659ms
[1mSTEP[0m: Saw pod success
Apr  6 15:55:56.373: INFO: Pod "client-b-sgjmb" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-sgjmb
[1mSTEP[0m: Cleaning up the policy.
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 15:55:56.937: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-4412" for this suite.

[32m• [SLOW TEST:82.513 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce multiple ingress policies with ingress allow-all policy taking precedence [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:998[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce multiple ingress policies with ingress allow-all policy taking precedence [Feature:NetworkPolicy]","total":26,"completed":1,"skipped":547,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould allow egress access to server in CIDR block [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1229[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 15:55:57.074: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-7765
Apr  6 15:55:57.282: INFO: Created pod server-zlpn8
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-7765
Apr  6 15:55:57.350: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 15:55:57.365: INFO: The status of Pod server-zlpn8 is Pending, waiting for it to be Running (with Ready = true)
Apr  6 15:55:59.370: INFO: The status of Pod server-zlpn8 is Pending, waiting for it to be Running (with Ready = true)
Apr  6 15:56:01.372: INFO: The status of Pod server-zlpn8 is Running (Ready = false)
Apr  6 15:56:03.374: INFO: The status of Pod server-zlpn8 is Running (Ready = false)
Apr  6 15:56:05.370: INFO: The status of Pod server-zlpn8 is Running (Ready = false)
Apr  6 15:56:07.369: INFO: The status of Pod server-zlpn8 is Running (Ready = false)
Apr  6 15:56:09.369: INFO: The status of Pod server-zlpn8 is Running (Ready = false)
Apr  6 15:56:11.371: INFO: The status of Pod server-zlpn8 is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 15:56:11.383: INFO: Waiting for client-can-connect-80-6bvn5 to complete.
Apr  6 15:56:15.407: INFO: Waiting for client-can-connect-80-6bvn5 to complete.
Apr  6 15:56:15.408: INFO: Waiting up to 5m0s for pod "client-can-connect-80-6bvn5" in namespace "network-policy-7765" to be "Succeeded or Failed"
Apr  6 15:56:15.414: INFO: Pod "client-can-connect-80-6bvn5": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.035313ms
[1mSTEP[0m: Saw pod success
Apr  6 15:56:15.414: INFO: Pod "client-can-connect-80-6bvn5" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-6bvn5
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 15:56:15.461: INFO: Waiting for client-can-connect-81-gtszr to complete.
Apr  6 15:56:19.486: INFO: Waiting for client-can-connect-81-gtszr to complete.
Apr  6 15:56:19.486: INFO: Waiting up to 5m0s for pod "client-can-connect-81-gtszr" in namespace "network-policy-7765" to be "Succeeded or Failed"
Apr  6 15:56:19.491: INFO: Pod "client-can-connect-81-gtszr": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.991626ms
[1mSTEP[0m: Saw pod success
Apr  6 15:56:19.492: INFO: Pod "client-can-connect-81-gtszr" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-gtszr
[It] should allow egress access to server in CIDR block [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1229
[1mSTEP[0m: Creating a server pod pod-b in namespace network-policy-7765
Apr  6 15:56:19.553: INFO: Created pod pod-b-4ds7n
[1mSTEP[0m: Creating a service svc-pod-b for pod pod-b in namespace network-policy-7765
Apr  6 15:56:19.612: INFO: Created service svc-pod-b
[1mSTEP[0m: Waiting for pod-b to be ready
Apr  6 15:56:19.626: INFO: The status of Pod pod-b-4ds7n is Pending, waiting for it to be Running (with Ready = true)
Apr  6 15:56:21.631: INFO: The status of Pod pod-b-4ds7n is Pending, waiting for it to be Running (with Ready = true)
Apr  6 15:56:23.635: INFO: The status of Pod pod-b-4ds7n is Running (Ready = false)
Apr  6 15:56:25.645: INFO: The status of Pod pod-b-4ds7n is Running (Ready = true)
[1mSTEP[0m: Creating client-a which should be able to contact the server-b.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-pod-b.
Apr  6 15:56:25.662: INFO: Waiting for client-a-pb96k to complete.
Apr  6 15:56:29.677: INFO: Waiting for client-a-pb96k to complete.
Apr  6 15:56:29.677: INFO: Waiting up to 5m0s for pod "client-a-pb96k" in namespace "network-policy-7765" to be "Succeeded or Failed"
Apr  6 15:56:29.682: INFO: Pod "client-a-pb96k": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.876961ms
[1mSTEP[0m: Saw pod success
Apr  6 15:56:29.683: INFO: Pod "client-a-pb96k" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-pb96k
[1mSTEP[0m: Creating client-a which should not be able to contact the server-b.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-pod-b.
Apr  6 15:56:29.761: INFO: Waiting for client-a-p7rvz to complete.
Apr  6 15:56:29.761: INFO: Waiting up to 5m0s for pod "client-a-p7rvz" in namespace "network-policy-7765" to be "Succeeded or Failed"
Apr  6 15:56:29.785: INFO: Pod "client-a-p7rvz": Phase="Pending", Reason="", readiness=false. Elapsed: 23.616532ms
Apr  6 15:56:31.790: INFO: Pod "client-a-p7rvz": Phase="Pending", Reason="", readiness=false. Elapsed: 2.028786072s
Apr  6 15:56:33.799: INFO: Pod "client-a-p7rvz": Phase="Running", Reason="", readiness=true. Elapsed: 4.037646854s
Apr  6 15:56:35.808: INFO: Pod "client-a-p7rvz": Phase="Running", Reason="", readiness=true. Elapsed: 6.046291752s
Apr  6 15:56:37.813: INFO: Pod "client-a-p7rvz": Phase="Running", Reason="", readiness=true. Elapsed: 8.051642163s
Apr  6 15:56:39.819: INFO: Pod "client-a-p7rvz": Phase="Running", Reason="", readiness=true. Elapsed: 10.057632908s
Apr  6 15:56:41.826: INFO: Pod "client-a-p7rvz": Phase="Running", Reason="", readiness=true. Elapsed: 12.064730126s
Apr  6 15:56:43.841: INFO: Pod "client-a-p7rvz": Phase="Running", Reason="", readiness=true. Elapsed: 14.07976316s
Apr  6 15:56:45.853: INFO: Pod "client-a-p7rvz": Phase="Running", Reason="", readiness=true. Elapsed: 16.091765963s
Apr  6 15:56:47.859: INFO: Pod "client-a-p7rvz": Phase="Running", Reason="", readiness=true. Elapsed: 18.097844587s
Apr  6 15:56:49.866: INFO: Pod "client-a-p7rvz": Phase="Running", Reason="", readiness=true. Elapsed: 20.104270381s
Apr  6 15:56:51.871: INFO: Pod "client-a-p7rvz": Phase="Running", Reason="", readiness=true. Elapsed: 22.109899092s
Apr  6 15:56:53.885: INFO: Pod "client-a-p7rvz": Phase="Running", Reason="", readiness=true. Elapsed: 24.123888893s
Apr  6 15:56:55.899: INFO: Pod "client-a-p7rvz": Phase="Running", Reason="", readiness=true. Elapsed: 26.1372271s
Apr  6 15:56:57.904: INFO: Pod "client-a-p7rvz": Phase="Running", Reason="", readiness=true. Elapsed: 28.142786993s
Apr  6 15:56:59.925: INFO: Pod "client-a-p7rvz": Phase="Running", Reason="", readiness=true. Elapsed: 30.164090739s
Apr  6 15:57:01.935: INFO: Pod "client-a-p7rvz": Phase="Running", Reason="", readiness=true. Elapsed: 32.173468915s
Apr  6 15:57:03.952: INFO: Pod "client-a-p7rvz": Phase="Running", Reason="", readiness=true. Elapsed: 34.190481203s
Apr  6 15:57:05.962: INFO: Pod "client-a-p7rvz": Phase="Running", Reason="", readiness=true. Elapsed: 36.200222987s
Apr  6 15:57:07.968: INFO: Pod "client-a-p7rvz": Phase="Running", Reason="", readiness=true. Elapsed: 38.206727724s
Apr  6 15:57:09.974: INFO: Pod "client-a-p7rvz": Phase="Running", Reason="", readiness=true. Elapsed: 40.213109829s
Apr  6 15:57:11.980: INFO: Pod "client-a-p7rvz": Phase="Running", Reason="", readiness=true. Elapsed: 42.218596879s
Apr  6 15:57:14.016: INFO: Pod "client-a-p7rvz": Phase="Running", Reason="", readiness=true. Elapsed: 44.254947254s
Apr  6 15:57:16.029: INFO: Pod "client-a-p7rvz": Phase="Running", Reason="", readiness=true. Elapsed: 46.267262057s
Apr  6 15:57:18.036: INFO: Pod "client-a-p7rvz": Phase="Failed", Reason="", readiness=false. Elapsed: 48.274862894s
[1mSTEP[0m: Cleaning up the pod client-a-p7rvz
[1mSTEP[0m: Creating client-a which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 15:57:18.185: INFO: Waiting for client-a-ljhfl to complete.
Apr  6 15:57:22.225: INFO: Waiting for client-a-ljhfl to complete.
Apr  6 15:57:22.226: INFO: Waiting up to 5m0s for pod "client-a-ljhfl" in namespace "network-policy-7765" to be "Succeeded or Failed"
Apr  6 15:57:22.239: INFO: Pod "client-a-ljhfl": Phase="Succeeded", Reason="", readiness=false. Elapsed: 12.595479ms
[1mSTEP[0m: Saw pod success
Apr  6 15:57:22.240: INFO: Pod "client-a-ljhfl" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-ljhfl
[1mSTEP[0m: Cleaning up the policy.
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 15:57:23.196: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-7765" for this suite.

[32m• [SLOW TEST:86.202 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should allow egress access to server in CIDR block [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1229[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should allow egress access to server in CIDR block [Feature:NetworkPolicy]","total":26,"completed":2,"skipped":706,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce policy to allow traffic from pods within server namespace based on PodSelector [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:100[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 15:57:23.334: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-5957
Apr  6 15:57:23.553: INFO: Created pod server-qgbcs
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-5957
Apr  6 15:57:23.597: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 15:57:23.614: INFO: The status of Pod server-qgbcs is Pending, waiting for it to be Running (with Ready = true)
Apr  6 15:57:25.625: INFO: The status of Pod server-qgbcs is Pending, waiting for it to be Running (with Ready = true)
Apr  6 15:57:27.621: INFO: The status of Pod server-qgbcs is Pending, waiting for it to be Running (with Ready = true)
Apr  6 15:57:29.624: INFO: The status of Pod server-qgbcs is Running (Ready = false)
Apr  6 15:57:31.622: INFO: The status of Pod server-qgbcs is Running (Ready = false)
Apr  6 15:57:33.625: INFO: The status of Pod server-qgbcs is Running (Ready = false)
Apr  6 15:57:35.620: INFO: The status of Pod server-qgbcs is Running (Ready = false)
Apr  6 15:57:37.621: INFO: The status of Pod server-qgbcs is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 15:57:37.633: INFO: Waiting for client-can-connect-80-k5tg9 to complete.
Apr  6 15:57:41.678: INFO: Waiting for client-can-connect-80-k5tg9 to complete.
Apr  6 15:57:41.678: INFO: Waiting up to 5m0s for pod "client-can-connect-80-k5tg9" in namespace "network-policy-5957" to be "Succeeded or Failed"
Apr  6 15:57:41.683: INFO: Pod "client-can-connect-80-k5tg9": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.497566ms
[1mSTEP[0m: Saw pod success
Apr  6 15:57:41.683: INFO: Pod "client-can-connect-80-k5tg9" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-k5tg9
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 15:57:41.777: INFO: Waiting for client-can-connect-81-5952x to complete.
Apr  6 15:57:45.842: INFO: Waiting for client-can-connect-81-5952x to complete.
Apr  6 15:57:45.843: INFO: Waiting up to 5m0s for pod "client-can-connect-81-5952x" in namespace "network-policy-5957" to be "Succeeded or Failed"
Apr  6 15:57:45.850: INFO: Pod "client-can-connect-81-5952x": Phase="Succeeded", Reason="", readiness=false. Elapsed: 7.060075ms
[1mSTEP[0m: Saw pod success
Apr  6 15:57:45.850: INFO: Pod "client-can-connect-81-5952x" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-5952x
[It] should enforce policy to allow traffic from pods within server namespace based on PodSelector [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:100
[1mSTEP[0m: Creating client-a, in server's namespace, which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 15:57:45.974: INFO: Waiting for client-a-l5547 to complete.
Apr  6 15:57:49.996: INFO: Waiting for client-a-l5547 to complete.
Apr  6 15:57:49.996: INFO: Waiting up to 5m0s for pod "client-a-l5547" in namespace "network-policy-5957" to be "Succeeded or Failed"
Apr  6 15:57:49.999: INFO: Pod "client-a-l5547": Phase="Succeeded", Reason="", readiness=false. Elapsed: 2.843991ms
[1mSTEP[0m: Saw pod success
Apr  6 15:57:49.999: INFO: Pod "client-a-l5547" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-l5547
[1mSTEP[0m: Creating client-b, in server's namespace, which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Apr  6 15:57:50.062: INFO: Waiting for client-b-fvdjx to complete.
Apr  6 15:57:54.110: INFO: Waiting for client-b-fvdjx to complete.
Apr  6 15:57:54.110: INFO: Waiting up to 5m0s for pod "client-b-fvdjx" in namespace "network-policy-5957" to be "Succeeded or Failed"
Apr  6 15:57:54.116: INFO: Pod "client-b-fvdjx": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.490294ms
[1mSTEP[0m: Saw pod success
Apr  6 15:57:54.117: INFO: Pod "client-b-fvdjx" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-fvdjx
[1mSTEP[0m: Creating client-a, not in server's namespace, which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 15:57:54.191: INFO: Waiting for client-a-856bl to complete.
Apr  6 15:57:58.220: INFO: Waiting for client-a-856bl to complete.
Apr  6 15:57:58.220: INFO: Waiting up to 5m0s for pod "client-a-856bl" in namespace "network-policy-b-1095" to be "Succeeded or Failed"
Apr  6 15:57:58.230: INFO: Pod "client-a-856bl": Phase="Succeeded", Reason="", readiness=false. Elapsed: 9.388226ms
[1mSTEP[0m: Saw pod success
Apr  6 15:57:58.230: INFO: Pod "client-a-856bl" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-856bl
[1mSTEP[0m: Creating a network policy for the server which allows traffic from the pod 'client-a' in same namespace.
[1mSTEP[0m: Creating client-a, in server's namespace, which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 15:57:58.306: INFO: Waiting for client-a-l5zk4 to complete.
Apr  6 15:58:02.334: INFO: Waiting for client-a-l5zk4 to complete.
Apr  6 15:58:02.334: INFO: Waiting up to 5m0s for pod "client-a-l5zk4" in namespace "network-policy-5957" to be "Succeeded or Failed"
Apr  6 15:58:02.343: INFO: Pod "client-a-l5zk4": Phase="Succeeded", Reason="", readiness=false. Elapsed: 9.751629ms
[1mSTEP[0m: Saw pod success
Apr  6 15:58:02.344: INFO: Pod "client-a-l5zk4" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-l5zk4
[1mSTEP[0m: Creating client-b, in server's namespace, which should not be able to contact the server.
[1mSTEP[0m: Creating client pod client-b that should not be able to connect to svc-server.
Apr  6 15:58:02.390: INFO: Waiting for client-b-5lrft to complete.
Apr  6 15:58:02.390: INFO: Waiting up to 5m0s for pod "client-b-5lrft" in namespace "network-policy-5957" to be "Succeeded or Failed"
Apr  6 15:58:02.399: INFO: Pod "client-b-5lrft": Phase="Pending", Reason="", readiness=false. Elapsed: 8.960109ms
Apr  6 15:58:04.406: INFO: Pod "client-b-5lrft": Phase="Pending", Reason="", readiness=false. Elapsed: 2.016577791s
Apr  6 15:58:06.421: INFO: Pod "client-b-5lrft": Phase="Running", Reason="", readiness=true. Elapsed: 4.030927299s
Apr  6 15:58:08.426: INFO: Pod "client-b-5lrft": Phase="Running", Reason="", readiness=true. Elapsed: 6.035867113s
Apr  6 15:58:10.432: INFO: Pod "client-b-5lrft": Phase="Running", Reason="", readiness=true. Elapsed: 8.041867714s
Apr  6 15:58:12.437: INFO: Pod "client-b-5lrft": Phase="Running", Reason="", readiness=true. Elapsed: 10.047048313s
Apr  6 15:58:14.450: INFO: Pod "client-b-5lrft": Phase="Running", Reason="", readiness=true. Elapsed: 12.059973511s
Apr  6 15:58:16.466: INFO: Pod "client-b-5lrft": Phase="Running", Reason="", readiness=true. Elapsed: 14.075927648s
Apr  6 15:58:18.472: INFO: Pod "client-b-5lrft": Phase="Running", Reason="", readiness=true. Elapsed: 16.081971908s
Apr  6 15:58:20.478: INFO: Pod "client-b-5lrft": Phase="Running", Reason="", readiness=true. Elapsed: 18.087889523s
Apr  6 15:58:22.485: INFO: Pod "client-b-5lrft": Phase="Running", Reason="", readiness=true. Elapsed: 20.095108795s
Apr  6 15:58:24.495: INFO: Pod "client-b-5lrft": Phase="Running", Reason="", readiness=true. Elapsed: 22.105206182s
Apr  6 15:58:26.508: INFO: Pod "client-b-5lrft": Phase="Running", Reason="", readiness=true. Elapsed: 24.118728236s
Apr  6 15:58:28.516: INFO: Pod "client-b-5lrft": Phase="Running", Reason="", readiness=true. Elapsed: 26.126298654s
Apr  6 15:58:30.530: INFO: Pod "client-b-5lrft": Phase="Running", Reason="", readiness=true. Elapsed: 28.140317432s
Apr  6 15:58:32.558: INFO: Pod "client-b-5lrft": Phase="Running", Reason="", readiness=true. Elapsed: 30.16840632s
Apr  6 15:58:34.593: INFO: Pod "client-b-5lrft": Phase="Running", Reason="", readiness=true. Elapsed: 32.20321371s
Apr  6 15:58:36.654: INFO: Pod "client-b-5lrft": Phase="Running", Reason="", readiness=true. Elapsed: 34.263837349s
Apr  6 15:58:38.660: INFO: Pod "client-b-5lrft": Phase="Running", Reason="", readiness=true. Elapsed: 36.270821422s
Apr  6 15:58:40.669: INFO: Pod "client-b-5lrft": Phase="Running", Reason="", readiness=true. Elapsed: 38.279333217s
Apr  6 15:58:42.676: INFO: Pod "client-b-5lrft": Phase="Running", Reason="", readiness=true. Elapsed: 40.286372741s
Apr  6 15:58:44.689: INFO: Pod "client-b-5lrft": Phase="Running", Reason="", readiness=true. Elapsed: 42.299481977s
Apr  6 15:58:46.700: INFO: Pod "client-b-5lrft": Phase="Running", Reason="", readiness=true. Elapsed: 44.31018823s
Apr  6 15:58:48.705: INFO: Pod "client-b-5lrft": Phase="Running", Reason="", readiness=true. Elapsed: 46.315787653s
Apr  6 15:58:50.712: INFO: Pod "client-b-5lrft": Phase="Failed", Reason="", readiness=false. Elapsed: 48.322825s
[1mSTEP[0m: Cleaning up the pod client-b-5lrft
[1mSTEP[0m: Creating client-a, not in server's namespace, which should not be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Apr  6 15:58:50.778: INFO: Waiting for client-a-942x2 to complete.
Apr  6 15:58:50.778: INFO: Waiting up to 5m0s for pod "client-a-942x2" in namespace "network-policy-b-1095" to be "Succeeded or Failed"
Apr  6 15:58:50.792: INFO: Pod "client-a-942x2": Phase="Pending", Reason="", readiness=false. Elapsed: 13.758002ms
Apr  6 15:58:52.797: INFO: Pod "client-a-942x2": Phase="Pending", Reason="", readiness=false. Elapsed: 2.018712159s
Apr  6 15:58:54.807: INFO: Pod "client-a-942x2": Phase="Running", Reason="", readiness=true. Elapsed: 4.029420531s
Apr  6 15:58:56.815: INFO: Pod "client-a-942x2": Phase="Running", Reason="", readiness=true. Elapsed: 6.036462949s
Apr  6 15:58:58.820: INFO: Pod "client-a-942x2": Phase="Running", Reason="", readiness=true. Elapsed: 8.041789103s
Apr  6 15:59:00.869: INFO: Pod "client-a-942x2": Phase="Running", Reason="", readiness=true. Elapsed: 10.090497712s
Apr  6 15:59:03.663: INFO: Pod "client-a-942x2": Phase="Running", Reason="", readiness=true. Elapsed: 12.88472998s
Apr  6 15:59:05.692: INFO: Pod "client-a-942x2": Phase="Running", Reason="", readiness=true. Elapsed: 14.913508007s
Apr  6 15:59:07.767: INFO: Pod "client-a-942x2": Phase="Running", Reason="", readiness=true. Elapsed: 16.98870941s
Apr  6 15:59:09.775: INFO: Pod "client-a-942x2": Phase="Running", Reason="", readiness=true. Elapsed: 18.996737384s
Apr  6 15:59:11.782: INFO: Pod "client-a-942x2": Phase="Running", Reason="", readiness=true. Elapsed: 21.004279949s
Apr  6 15:59:13.795: INFO: Pod "client-a-942x2": Phase="Running", Reason="", readiness=true. Elapsed: 23.016984739s
Apr  6 15:59:15.805: INFO: Pod "client-a-942x2": Phase="Running", Reason="", readiness=true. Elapsed: 25.027422202s
Apr  6 15:59:17.819: INFO: Pod "client-a-942x2": Phase="Running", Reason="", readiness=true. Elapsed: 27.041092937s
Apr  6 15:59:19.827: INFO: Pod "client-a-942x2": Phase="Running", Reason="", readiness=true. Elapsed: 29.048505573s
Apr  6 15:59:21.846: INFO: Pod "client-a-942x2": Phase="Running", Reason="", readiness=true. Elapsed: 31.067961142s
Apr  6 15:59:23.857: INFO: Pod "client-a-942x2": Phase="Running", Reason="", readiness=true. Elapsed: 33.078492413s
Apr  6 15:59:25.870: INFO: Pod "client-a-942x2": Phase="Running", Reason="", readiness=true. Elapsed: 35.091527362s
Apr  6 15:59:27.878: INFO: Pod "client-a-942x2": Phase="Running", Reason="", readiness=true. Elapsed: 37.099851607s
Apr  6 15:59:29.885: INFO: Pod "client-a-942x2": Phase="Running", Reason="", readiness=true. Elapsed: 39.10650018s
Apr  6 15:59:31.893: INFO: Pod "client-a-942x2": Phase="Running", Reason="", readiness=true. Elapsed: 41.114481693s
Apr  6 15:59:33.903: INFO: Pod "client-a-942x2": Phase="Running", Reason="", readiness=true. Elapsed: 43.124925621s
Apr  6 15:59:35.912: INFO: Pod "client-a-942x2": Phase="Running", Reason="", readiness=true. Elapsed: 45.134240281s
Apr  6 15:59:37.920: INFO: Pod "client-a-942x2": Phase="Running", Reason="", readiness=true. Elapsed: 47.142357875s
Apr  6 15:59:39.929: INFO: Pod "client-a-942x2": Phase="Failed", Reason="", readiness=false. Elapsed: 49.150826339s
[1mSTEP[0m: Cleaning up the pod client-a-942x2
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 15:59:40.470: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-5957" for this suite.
[1mSTEP[0m: Destroying namespace "network-policy-b-1095" for this suite.

[32m• [SLOW TEST:137.244 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce policy to allow traffic from pods within server namespace based on PodSelector [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:100[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce policy to allow traffic from pods within server namespace based on PodSelector [Feature:NetworkPolicy]","total":26,"completed":3,"skipped":730,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce policy based on NamespaceSelector with MatchExpressions[Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:243[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 15:59:40.595: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-8103
Apr  6 15:59:40.907: INFO: Created pod server-znqjr
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-8103
Apr  6 15:59:41.077: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 15:59:41.109: INFO: The status of Pod server-znqjr is Pending, waiting for it to be Running (with Ready = true)
Apr  6 15:59:43.123: INFO: The status of Pod server-znqjr is Pending, waiting for it to be Running (with Ready = true)
Apr  6 15:59:45.117: INFO: The status of Pod server-znqjr is Pending, waiting for it to be Running (with Ready = true)
Apr  6 15:59:47.125: INFO: The status of Pod server-znqjr is Running (Ready = false)
Apr  6 15:59:49.117: INFO: The status of Pod server-znqjr is Running (Ready = false)
Apr  6 15:59:51.117: INFO: The status of Pod server-znqjr is Running (Ready = false)
Apr  6 15:59:53.129: INFO: The status of Pod server-znqjr is Running (Ready = false)
Apr  6 15:59:55.119: INFO: The status of Pod server-znqjr is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 15:59:55.137: INFO: Waiting for client-can-connect-80-rjl5r to complete.
Apr  6 16:00:01.159: INFO: Waiting for client-can-connect-80-rjl5r to complete.
Apr  6 16:00:01.159: INFO: Waiting up to 5m0s for pod "client-can-connect-80-rjl5r" in namespace "network-policy-8103" to be "Succeeded or Failed"
Apr  6 16:00:01.165: INFO: Pod "client-can-connect-80-rjl5r": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.32979ms
[1mSTEP[0m: Saw pod success
Apr  6 16:00:01.165: INFO: Pod "client-can-connect-80-rjl5r" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-rjl5r
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:00:01.237: INFO: Waiting for client-can-connect-81-dpbbr to complete.
Apr  6 16:00:05.287: INFO: Waiting for client-can-connect-81-dpbbr to complete.
Apr  6 16:00:05.288: INFO: Waiting up to 5m0s for pod "client-can-connect-81-dpbbr" in namespace "network-policy-8103" to be "Succeeded or Failed"
Apr  6 16:00:05.291: INFO: Pod "client-can-connect-81-dpbbr": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.614401ms
[1mSTEP[0m: Saw pod success
Apr  6 16:00:05.291: INFO: Pod "client-can-connect-81-dpbbr" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-dpbbr
[It] should enforce policy based on NamespaceSelector with MatchExpressions[Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:243
[1mSTEP[0m: Creating a network policy for the server which allows traffic from ns different than namespace-a.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Apr  6 16:00:05.570: INFO: Waiting for client-a-8zdwf to complete.
Apr  6 16:00:05.570: INFO: Waiting up to 5m0s for pod "client-a-8zdwf" in namespace "network-policy-c-6854" to be "Succeeded or Failed"
Apr  6 16:00:05.605: INFO: Pod "client-a-8zdwf": Phase="Pending", Reason="", readiness=false. Elapsed: 35.229246ms
Apr  6 16:00:07.610: INFO: Pod "client-a-8zdwf": Phase="Pending", Reason="", readiness=false. Elapsed: 2.040391227s
Apr  6 16:00:09.617: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 4.047441796s
Apr  6 16:00:11.623: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 6.05291537s
Apr  6 16:00:13.642: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 8.071708363s
Apr  6 16:00:15.653: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 10.083129229s
Apr  6 16:00:17.662: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 12.09163543s
Apr  6 16:00:19.675: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 14.105132222s
Apr  6 16:00:21.680: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 16.110297244s
Apr  6 16:00:23.697: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 18.127225352s
Apr  6 16:00:25.705: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 20.135010424s
Apr  6 16:00:27.713: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 22.142555495s
Apr  6 16:00:29.720: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 24.149913139s
Apr  6 16:00:31.727: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 26.156697491s
Apr  6 16:00:33.746: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 28.175626492s
Apr  6 16:00:35.753: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 30.183425501s
Apr  6 16:00:37.762: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 32.191979606s
Apr  6 16:00:39.771: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 34.200588626s
Apr  6 16:00:41.779: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 36.208897918s
Apr  6 16:00:43.793: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 38.222701633s
Apr  6 16:00:45.802: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 40.231730775s
Apr  6 16:00:47.812: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 42.242200859s
Apr  6 16:00:49.819: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 44.248666391s
Apr  6 16:00:51.833: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 46.262996018s
Apr  6 16:00:53.863: INFO: Pod "client-a-8zdwf": Phase="Running", Reason="", readiness=true. Elapsed: 48.292994355s
Apr  6 16:00:55.873: INFO: Pod "client-a-8zdwf": Phase="Failed", Reason="", readiness=false. Elapsed: 50.302817461s
[1mSTEP[0m: Cleaning up the pod client-a-8zdwf
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 16:00:55.987: INFO: Waiting for client-a-4k678 to complete.
Apr  6 16:01:00.013: INFO: Waiting for client-a-4k678 to complete.
Apr  6 16:01:00.013: INFO: Waiting up to 5m0s for pod "client-a-4k678" in namespace "network-policy-b-6179" to be "Succeeded or Failed"
Apr  6 16:01:00.020: INFO: Pod "client-a-4k678": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.872162ms
[1mSTEP[0m: Saw pod success
Apr  6 16:01:00.020: INFO: Pod "client-a-4k678" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-4k678
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:01:00.443: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-8103" for this suite.
[1mSTEP[0m: Destroying namespace "network-policy-b-6179" for this suite.
[1mSTEP[0m: Destroying namespace "network-policy-c-6854" for this suite.

[32m• [SLOW TEST:80.006 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce policy based on NamespaceSelector with MatchExpressions[Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:243[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce policy based on NamespaceSelector with MatchExpressions[Feature:NetworkPolicy]","total":26,"completed":4,"skipped":745,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould allow egress access on one named port [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:643[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 16:01:00.651: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-4548
Apr  6 16:01:00.955: INFO: Created pod server-9pvqc
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-4548
Apr  6 16:01:01.055: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:01:01.095: INFO: The status of Pod server-9pvqc is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:01:03.151: INFO: The status of Pod server-9pvqc is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:01:05.109: INFO: The status of Pod server-9pvqc is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:01:07.105: INFO: The status of Pod server-9pvqc is Running (Ready = false)
Apr  6 16:01:09.102: INFO: The status of Pod server-9pvqc is Running (Ready = false)
Apr  6 16:01:11.102: INFO: The status of Pod server-9pvqc is Running (Ready = false)
Apr  6 16:01:13.109: INFO: The status of Pod server-9pvqc is Running (Ready = false)
Apr  6 16:01:15.103: INFO: The status of Pod server-9pvqc is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 16:01:15.140: INFO: Waiting for client-can-connect-80-hqjmq to complete.
Apr  6 16:01:19.160: INFO: Waiting for client-can-connect-80-hqjmq to complete.
Apr  6 16:01:19.160: INFO: Waiting up to 5m0s for pod "client-can-connect-80-hqjmq" in namespace "network-policy-4548" to be "Succeeded or Failed"
Apr  6 16:01:19.166: INFO: Pod "client-can-connect-80-hqjmq": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.018963ms
[1mSTEP[0m: Saw pod success
Apr  6 16:01:19.166: INFO: Pod "client-can-connect-80-hqjmq" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-hqjmq
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:01:19.229: INFO: Waiting for client-can-connect-81-vqvll to complete.
Apr  6 16:01:23.248: INFO: Waiting for client-can-connect-81-vqvll to complete.
Apr  6 16:01:23.249: INFO: Waiting up to 5m0s for pod "client-can-connect-81-vqvll" in namespace "network-policy-4548" to be "Succeeded or Failed"
Apr  6 16:01:23.253: INFO: Pod "client-can-connect-81-vqvll": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.400079ms
[1mSTEP[0m: Saw pod success
Apr  6 16:01:23.254: INFO: Pod "client-can-connect-81-vqvll" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-vqvll
[It] should allow egress access on one named port [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:643
[1mSTEP[0m: Creating client-a which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 16:01:23.361: INFO: Waiting for client-a-r8mq2 to complete.
Apr  6 16:01:27.390: INFO: Waiting for client-a-r8mq2 to complete.
Apr  6 16:01:27.390: INFO: Waiting up to 5m0s for pod "client-a-r8mq2" in namespace "network-policy-4548" to be "Succeeded or Failed"
Apr  6 16:01:27.395: INFO: Pod "client-a-r8mq2": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.923623ms
[1mSTEP[0m: Saw pod success
Apr  6 16:01:27.395: INFO: Pod "client-a-r8mq2" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-r8mq2
[1mSTEP[0m: Creating client-a which should not be able to contact the server on port 81.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Apr  6 16:01:27.447: INFO: Waiting for client-a-gc7lw to complete.
Apr  6 16:01:27.447: INFO: Waiting up to 5m0s for pod "client-a-gc7lw" in namespace "network-policy-4548" to be "Succeeded or Failed"
Apr  6 16:01:27.469: INFO: Pod "client-a-gc7lw": Phase="Pending", Reason="", readiness=false. Elapsed: 21.366195ms
Apr  6 16:01:29.475: INFO: Pod "client-a-gc7lw": Phase="Pending", Reason="", readiness=false. Elapsed: 2.028039762s
Apr  6 16:01:31.483: INFO: Pod "client-a-gc7lw": Phase="Running", Reason="", readiness=true. Elapsed: 4.035540183s
Apr  6 16:01:33.490: INFO: Pod "client-a-gc7lw": Phase="Running", Reason="", readiness=true. Elapsed: 6.04309941s
Apr  6 16:01:35.497: INFO: Pod "client-a-gc7lw": Phase="Running", Reason="", readiness=true. Elapsed: 8.049728495s
Apr  6 16:01:37.504: INFO: Pod "client-a-gc7lw": Phase="Running", Reason="", readiness=true. Elapsed: 10.05639418s
Apr  6 16:01:39.512: INFO: Pod "client-a-gc7lw": Phase="Running", Reason="", readiness=true. Elapsed: 12.064740504s
Apr  6 16:01:41.525: INFO: Pod "client-a-gc7lw": Phase="Running", Reason="", readiness=true. Elapsed: 14.077428786s
Apr  6 16:01:43.532: INFO: Pod "client-a-gc7lw": Phase="Running", Reason="", readiness=true. Elapsed: 16.08520787s
Apr  6 16:01:45.541: INFO: Pod "client-a-gc7lw": Phase="Running", Reason="", readiness=true. Elapsed: 18.093938882s
Apr  6 16:01:47.547: INFO: Pod "client-a-gc7lw": Phase="Running", Reason="", readiness=true. Elapsed: 20.100213161s
Apr  6 16:01:49.553: INFO: Pod "client-a-gc7lw": Phase="Running", Reason="", readiness=true. Elapsed: 22.106280909s
Apr  6 16:01:51.564: INFO: Pod "client-a-gc7lw": Phase="Running", Reason="", readiness=true. Elapsed: 24.116827079s
Apr  6 16:01:53.579: INFO: Pod "client-a-gc7lw": Phase="Running", Reason="", readiness=true. Elapsed: 26.132066944s
Apr  6 16:01:55.608: INFO: Pod "client-a-gc7lw": Phase="Running", Reason="", readiness=true. Elapsed: 28.160557557s
Apr  6 16:01:57.613: INFO: Pod "client-a-gc7lw": Phase="Running", Reason="", readiness=true. Elapsed: 30.165589364s
Apr  6 16:01:59.623: INFO: Pod "client-a-gc7lw": Phase="Running", Reason="", readiness=true. Elapsed: 32.175467993s
Apr  6 16:02:01.637: INFO: Pod "client-a-gc7lw": Phase="Running", Reason="", readiness=true. Elapsed: 34.189681622s
Apr  6 16:02:03.652: INFO: Pod "client-a-gc7lw": Phase="Running", Reason="", readiness=true. Elapsed: 36.204682642s
Apr  6 16:02:05.661: INFO: Pod "client-a-gc7lw": Phase="Running", Reason="", readiness=true. Elapsed: 38.213752075s
Apr  6 16:02:07.668: INFO: Pod "client-a-gc7lw": Phase="Running", Reason="", readiness=true. Elapsed: 40.22094071s
Apr  6 16:02:09.676: INFO: Pod "client-a-gc7lw": Phase="Running", Reason="", readiness=true. Elapsed: 42.228991304s
Apr  6 16:02:11.681: INFO: Pod "client-a-gc7lw": Phase="Running", Reason="", readiness=true. Elapsed: 44.233625054s
Apr  6 16:02:13.695: INFO: Pod "client-a-gc7lw": Phase="Running", Reason="", readiness=true. Elapsed: 46.247869482s
Apr  6 16:02:15.708: INFO: Pod "client-a-gc7lw": Phase="Failed", Reason="", readiness=false. Elapsed: 48.26075911s
[1mSTEP[0m: Cleaning up the pod client-a-gc7lw
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:02:16.038: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-4548" for this suite.

[32m• [SLOW TEST:75.453 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should allow egress access on one named port [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:643[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should allow egress access on one named port [Feature:NetworkPolicy]","total":26,"completed":5,"skipped":835,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce multiple egress policies with egress allow-all policy taking precedence [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1065[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 16:02:16.317: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-5242
Apr  6 16:02:16.513: INFO: Created pod server-885hx
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-5242
Apr  6 16:02:16.662: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:02:16.672: INFO: The status of Pod server-885hx is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:02:18.678: INFO: The status of Pod server-885hx is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:02:20.679: INFO: The status of Pod server-885hx is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:02:22.692: INFO: The status of Pod server-885hx is Running (Ready = false)
Apr  6 16:02:24.687: INFO: The status of Pod server-885hx is Running (Ready = false)
Apr  6 16:02:26.787: INFO: The status of Pod server-885hx is Running (Ready = false)
Apr  6 16:02:28.681: INFO: The status of Pod server-885hx is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 16:02:28.724: INFO: Waiting for client-can-connect-80-4mx4f to complete.
Apr  6 16:02:34.742: INFO: Waiting for client-can-connect-80-4mx4f to complete.
Apr  6 16:02:34.746: INFO: Waiting up to 5m0s for pod "client-can-connect-80-4mx4f" in namespace "network-policy-5242" to be "Succeeded or Failed"
Apr  6 16:02:34.760: INFO: Pod "client-can-connect-80-4mx4f": Phase="Succeeded", Reason="", readiness=false. Elapsed: 12.397909ms
[1mSTEP[0m: Saw pod success
Apr  6 16:02:34.760: INFO: Pod "client-can-connect-80-4mx4f" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-4mx4f
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:02:34.909: INFO: Waiting for client-can-connect-81-ck65c to complete.
Apr  6 16:02:38.975: INFO: Waiting for client-can-connect-81-ck65c to complete.
Apr  6 16:02:38.975: INFO: Waiting up to 5m0s for pod "client-can-connect-81-ck65c" in namespace "network-policy-5242" to be "Succeeded or Failed"
Apr  6 16:02:38.980: INFO: Pod "client-can-connect-81-ck65c": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.669987ms
[1mSTEP[0m: Saw pod success
Apr  6 16:02:38.980: INFO: Pod "client-can-connect-81-ck65c" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-ck65c
[It] should enforce multiple egress policies with egress allow-all policy taking precedence [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1065
[1mSTEP[0m: Creating a server pod server-b in namespace network-policy-5242
Apr  6 16:02:39.029: INFO: Created pod server-b-85pfw
[1mSTEP[0m: Creating a service svc-server-b for pod server-b in namespace network-policy-5242
Apr  6 16:02:39.110: INFO: Created service svc-server-b
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:02:39.146: INFO: The status of Pod server-b-85pfw is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:02:41.159: INFO: The status of Pod server-b-85pfw is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:02:43.197: INFO: The status of Pod server-b-85pfw is Running (Ready = false)
Apr  6 16:02:45.152: INFO: The status of Pod server-b-85pfw is Running (Ready = false)
Apr  6 16:02:47.155: INFO: The status of Pod server-b-85pfw is Running (Ready = false)
Apr  6 16:02:49.151: INFO: The status of Pod server-b-85pfw is Running (Ready = false)
Apr  6 16:02:51.152: INFO: The status of Pod server-b-85pfw is Running (Ready = true)
[1mSTEP[0m: Creating client-a which should be able to contact the server before applying policy.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server-b.
Apr  6 16:02:51.179: INFO: Waiting for client-a-8ptqc to complete.
Apr  6 16:02:55.223: INFO: Waiting for client-a-8ptqc to complete.
Apr  6 16:02:55.223: INFO: Waiting up to 5m0s for pod "client-a-8ptqc" in namespace "network-policy-5242" to be "Succeeded or Failed"
Apr  6 16:02:55.229: INFO: Pod "client-a-8ptqc": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.831723ms
[1mSTEP[0m: Saw pod success
Apr  6 16:02:55.230: INFO: Pod "client-a-8ptqc" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-8ptqc
[1mSTEP[0m: Creating a network policy for the server which allows traffic only to server-a.
[1mSTEP[0m: Creating client-a which should not be able to contact the server-b.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server-b.
Apr  6 16:02:55.300: INFO: Waiting for client-a-gxj8c to complete.
Apr  6 16:02:55.300: INFO: Waiting up to 5m0s for pod "client-a-gxj8c" in namespace "network-policy-5242" to be "Succeeded or Failed"
Apr  6 16:02:55.318: INFO: Pod "client-a-gxj8c": Phase="Pending", Reason="", readiness=false. Elapsed: 17.934077ms
Apr  6 16:02:57.328: INFO: Pod "client-a-gxj8c": Phase="Pending", Reason="", readiness=false. Elapsed: 2.028305734s
Apr  6 16:02:59.336: INFO: Pod "client-a-gxj8c": Phase="Running", Reason="", readiness=true. Elapsed: 4.035833139s
Apr  6 16:03:01.349: INFO: Pod "client-a-gxj8c": Phase="Running", Reason="", readiness=true. Elapsed: 6.048659094s
Apr  6 16:03:03.390: INFO: Pod "client-a-gxj8c": Phase="Running", Reason="", readiness=true. Elapsed: 8.090031279s
Apr  6 16:03:05.397: INFO: Pod "client-a-gxj8c": Phase="Running", Reason="", readiness=true. Elapsed: 10.097176646s
Apr  6 16:03:07.403: INFO: Pod "client-a-gxj8c": Phase="Running", Reason="", readiness=true. Elapsed: 12.102916626s
Apr  6 16:03:09.409: INFO: Pod "client-a-gxj8c": Phase="Running", Reason="", readiness=true. Elapsed: 14.108975144s
Apr  6 16:03:11.415: INFO: Pod "client-a-gxj8c": Phase="Running", Reason="", readiness=true. Elapsed: 16.114356417s
Apr  6 16:03:13.424: INFO: Pod "client-a-gxj8c": Phase="Running", Reason="", readiness=true. Elapsed: 18.12420271s
Apr  6 16:03:15.432: INFO: Pod "client-a-gxj8c": Phase="Running", Reason="", readiness=true. Elapsed: 20.1322599s
Apr  6 16:03:17.439: INFO: Pod "client-a-gxj8c": Phase="Running", Reason="", readiness=true. Elapsed: 22.138743803s
Apr  6 16:03:19.448: INFO: Pod "client-a-gxj8c": Phase="Running", Reason="", readiness=true. Elapsed: 24.147687957s
Apr  6 16:03:21.456: INFO: Pod "client-a-gxj8c": Phase="Running", Reason="", readiness=true. Elapsed: 26.155364215s
Apr  6 16:03:23.492: INFO: Pod "client-a-gxj8c": Phase="Running", Reason="", readiness=true. Elapsed: 28.191688869s
Apr  6 16:03:25.503: INFO: Pod "client-a-gxj8c": Phase="Running", Reason="", readiness=true. Elapsed: 30.203255716s
Apr  6 16:03:27.510: INFO: Pod "client-a-gxj8c": Phase="Running", Reason="", readiness=true. Elapsed: 32.209817497s
Apr  6 16:03:29.518: INFO: Pod "client-a-gxj8c": Phase="Running", Reason="", readiness=true. Elapsed: 34.218161487s
Apr  6 16:03:31.524: INFO: Pod "client-a-gxj8c": Phase="Running", Reason="", readiness=true. Elapsed: 36.223947838s
Apr  6 16:03:33.534: INFO: Pod "client-a-gxj8c": Phase="Running", Reason="", readiness=true. Elapsed: 38.23415681s
Apr  6 16:03:35.547: INFO: Pod "client-a-gxj8c": Phase="Running", Reason="", readiness=true. Elapsed: 40.247149752s
Apr  6 16:03:37.553: INFO: Pod "client-a-gxj8c": Phase="Running", Reason="", readiness=true. Elapsed: 42.252840754s
Apr  6 16:03:39.559: INFO: Pod "client-a-gxj8c": Phase="Running", Reason="", readiness=true. Elapsed: 44.259039871s
Apr  6 16:03:41.566: INFO: Pod "client-a-gxj8c": Phase="Running", Reason="", readiness=true. Elapsed: 46.265358554s
Apr  6 16:03:43.575: INFO: Pod "client-a-gxj8c": Phase="Failed", Reason="", readiness=false. Elapsed: 48.275255448s
[1mSTEP[0m: Cleaning up the pod client-a-gxj8c
[1mSTEP[0m: Creating client-a which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 16:03:43.663: INFO: Waiting for client-a-msg2r to complete.
Apr  6 16:03:47.688: INFO: Waiting for client-a-msg2r to complete.
Apr  6 16:03:47.688: INFO: Waiting up to 5m0s for pod "client-a-msg2r" in namespace "network-policy-5242" to be "Succeeded or Failed"
Apr  6 16:03:47.692: INFO: Pod "client-a-msg2r": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.730139ms
[1mSTEP[0m: Saw pod success
Apr  6 16:03:47.692: INFO: Pod "client-a-msg2r" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-msg2r
[1mSTEP[0m: Creating a network policy which allows traffic to all pods.
[1mSTEP[0m: Creating client-a which should be able to contact the server-b.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server-b.
Apr  6 16:03:47.770: INFO: Waiting for client-a-p9p7m to complete.
Apr  6 16:03:51.835: INFO: Waiting for client-a-p9p7m to complete.
Apr  6 16:03:51.835: INFO: Waiting up to 5m0s for pod "client-a-p9p7m" in namespace "network-policy-5242" to be "Succeeded or Failed"
Apr  6 16:03:51.839: INFO: Pod "client-a-p9p7m": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.561138ms
[1mSTEP[0m: Saw pod success
Apr  6 16:03:51.839: INFO: Pod "client-a-p9p7m" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-p9p7m
[1mSTEP[0m: Creating client-a which should be able to contact the server-a.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 16:03:51.867: INFO: Waiting for client-a-6qv9d to complete.
Apr  6 16:03:55.893: INFO: Waiting for client-a-6qv9d to complete.
Apr  6 16:03:55.893: INFO: Waiting up to 5m0s for pod "client-a-6qv9d" in namespace "network-policy-5242" to be "Succeeded or Failed"
Apr  6 16:03:55.899: INFO: Pod "client-a-6qv9d": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.815122ms
[1mSTEP[0m: Saw pod success
Apr  6 16:03:55.899: INFO: Pod "client-a-6qv9d" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-6qv9d
[1mSTEP[0m: Cleaning up the policy.
[1mSTEP[0m: Cleaning up the policy.
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:03:56.496: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-5242" for this suite.

[32m• [SLOW TEST:100.208 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce multiple egress policies with egress allow-all policy taking precedence [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1065[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce multiple egress policies with egress allow-all policy taking precedence [Feature:NetworkPolicy]","total":26,"completed":6,"skipped":1311,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould support a 'default-deny' policy [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:80[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 16:03:56.546: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-2095
Apr  6 16:03:56.773: INFO: Created pod server-lj5vn
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-2095
Apr  6 16:03:56.869: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:03:56.873: INFO: The status of Pod server-lj5vn is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:03:58.880: INFO: The status of Pod server-lj5vn is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:04:00.891: INFO: The status of Pod server-lj5vn is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:04:02.885: INFO: The status of Pod server-lj5vn is Running (Ready = false)
Apr  6 16:04:04.882: INFO: The status of Pod server-lj5vn is Running (Ready = false)
Apr  6 16:04:06.880: INFO: The status of Pod server-lj5vn is Running (Ready = false)
Apr  6 16:04:08.877: INFO: The status of Pod server-lj5vn is Running (Ready = false)
Apr  6 16:04:10.880: INFO: The status of Pod server-lj5vn is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 16:04:10.894: INFO: Waiting for client-can-connect-80-ghz6p to complete.
Apr  6 16:04:14.911: INFO: Waiting for client-can-connect-80-ghz6p to complete.
Apr  6 16:04:14.913: INFO: Waiting up to 5m0s for pod "client-can-connect-80-ghz6p" in namespace "network-policy-2095" to be "Succeeded or Failed"
Apr  6 16:04:14.918: INFO: Pod "client-can-connect-80-ghz6p": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.088293ms
[1mSTEP[0m: Saw pod success
Apr  6 16:04:14.918: INFO: Pod "client-can-connect-80-ghz6p" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-ghz6p
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:04:14.958: INFO: Waiting for client-can-connect-81-858br to complete.
Apr  6 16:04:18.976: INFO: Waiting for client-can-connect-81-858br to complete.
Apr  6 16:04:18.977: INFO: Waiting up to 5m0s for pod "client-can-connect-81-858br" in namespace "network-policy-2095" to be "Succeeded or Failed"
Apr  6 16:04:18.982: INFO: Pod "client-can-connect-81-858br": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.017311ms
[1mSTEP[0m: Saw pod success
Apr  6 16:04:18.982: INFO: Pod "client-can-connect-81-858br" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-858br
[It] should support a 'default-deny' policy [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:80
[1mSTEP[0m: Creating client pod client-cannot-connect that should not be able to connect to svc-server.
Apr  6 16:04:19.048: INFO: Waiting for client-cannot-connect-94fc5 to complete.
Apr  6 16:04:19.048: INFO: Waiting up to 5m0s for pod "client-cannot-connect-94fc5" in namespace "network-policy-2095" to be "Succeeded or Failed"
Apr  6 16:04:19.053: INFO: Pod "client-cannot-connect-94fc5": Phase="Pending", Reason="", readiness=false. Elapsed: 4.999893ms
Apr  6 16:04:21.059: INFO: Pod "client-cannot-connect-94fc5": Phase="Pending", Reason="", readiness=false. Elapsed: 2.010496651s
Apr  6 16:04:23.066: INFO: Pod "client-cannot-connect-94fc5": Phase="Running", Reason="", readiness=true. Elapsed: 4.017305268s
Apr  6 16:04:25.080: INFO: Pod "client-cannot-connect-94fc5": Phase="Running", Reason="", readiness=true. Elapsed: 6.031740566s
Apr  6 16:04:27.140: INFO: Pod "client-cannot-connect-94fc5": Phase="Running", Reason="", readiness=true. Elapsed: 8.091792469s
Apr  6 16:04:29.147: INFO: Pod "client-cannot-connect-94fc5": Phase="Running", Reason="", readiness=true. Elapsed: 10.098690448s
Apr  6 16:04:31.153: INFO: Pod "client-cannot-connect-94fc5": Phase="Running", Reason="", readiness=true. Elapsed: 12.104568581s
Apr  6 16:04:33.161: INFO: Pod "client-cannot-connect-94fc5": Phase="Running", Reason="", readiness=true. Elapsed: 14.112651226s
Apr  6 16:04:35.175: INFO: Pod "client-cannot-connect-94fc5": Phase="Running", Reason="", readiness=true. Elapsed: 16.126572873s
Apr  6 16:04:37.195: INFO: Pod "client-cannot-connect-94fc5": Phase="Running", Reason="", readiness=true. Elapsed: 18.146199495s
Apr  6 16:04:39.204: INFO: Pod "client-cannot-connect-94fc5": Phase="Running", Reason="", readiness=true. Elapsed: 20.155562794s
Apr  6 16:04:41.210: INFO: Pod "client-cannot-connect-94fc5": Phase="Running", Reason="", readiness=true. Elapsed: 22.161943541s
Apr  6 16:04:43.291: INFO: Pod "client-cannot-connect-94fc5": Phase="Running", Reason="", readiness=true. Elapsed: 24.242815803s
Apr  6 16:04:45.301: INFO: Pod "client-cannot-connect-94fc5": Phase="Running", Reason="", readiness=true. Elapsed: 26.252498284s
Apr  6 16:04:47.328: INFO: Pod "client-cannot-connect-94fc5": Phase="Running", Reason="", readiness=true. Elapsed: 28.280012749s
Apr  6 16:04:49.340: INFO: Pod "client-cannot-connect-94fc5": Phase="Running", Reason="", readiness=true. Elapsed: 30.292011621s
Apr  6 16:04:51.347: INFO: Pod "client-cannot-connect-94fc5": Phase="Running", Reason="", readiness=true. Elapsed: 32.298782454s
Apr  6 16:04:53.392: INFO: Pod "client-cannot-connect-94fc5": Phase="Running", Reason="", readiness=true. Elapsed: 34.343992705s
Apr  6 16:04:55.400: INFO: Pod "client-cannot-connect-94fc5": Phase="Running", Reason="", readiness=true. Elapsed: 36.351882848s
Apr  6 16:04:57.409: INFO: Pod "client-cannot-connect-94fc5": Phase="Running", Reason="", readiness=true. Elapsed: 38.360586343s
Apr  6 16:04:59.415: INFO: Pod "client-cannot-connect-94fc5": Phase="Running", Reason="", readiness=true. Elapsed: 40.366963126s
Apr  6 16:05:01.422: INFO: Pod "client-cannot-connect-94fc5": Phase="Running", Reason="", readiness=true. Elapsed: 42.374151062s
Apr  6 16:05:03.464: INFO: Pod "client-cannot-connect-94fc5": Phase="Running", Reason="", readiness=true. Elapsed: 44.416037679s
Apr  6 16:05:05.473: INFO: Pod "client-cannot-connect-94fc5": Phase="Running", Reason="", readiness=true. Elapsed: 46.424969838s
Apr  6 16:05:07.482: INFO: Pod "client-cannot-connect-94fc5": Phase="Failed", Reason="", readiness=false. Elapsed: 48.433370973s
[1mSTEP[0m: Cleaning up the pod client-cannot-connect-94fc5
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:05:07.753: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-2095" for this suite.

[32m• [SLOW TEST:71.270 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should support a 'default-deny' policy [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:80[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should support a 'default-deny' policy [Feature:NetworkPolicy]","total":26,"completed":7,"skipped":1338,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould support allow-all policy [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:544[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 16:05:07.845: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-2151
Apr  6 16:05:08.192: INFO: Created pod server-zlf86
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-2151
Apr  6 16:05:08.457: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:05:08.480: INFO: The status of Pod server-zlf86 is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:05:10.489: INFO: The status of Pod server-zlf86 is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:05:12.490: INFO: The status of Pod server-zlf86 is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:05:14.492: INFO: The status of Pod server-zlf86 is Running (Ready = false)
Apr  6 16:05:16.489: INFO: The status of Pod server-zlf86 is Running (Ready = false)
Apr  6 16:05:18.487: INFO: The status of Pod server-zlf86 is Running (Ready = false)
Apr  6 16:05:20.487: INFO: The status of Pod server-zlf86 is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 16:05:20.501: INFO: Waiting for client-can-connect-80-r9qb6 to complete.
Apr  6 16:05:24.528: INFO: Waiting for client-can-connect-80-r9qb6 to complete.
Apr  6 16:05:24.528: INFO: Waiting up to 5m0s for pod "client-can-connect-80-r9qb6" in namespace "network-policy-2151" to be "Succeeded or Failed"
Apr  6 16:05:24.535: INFO: Pod "client-can-connect-80-r9qb6": Phase="Succeeded", Reason="", readiness=false. Elapsed: 7.007098ms
[1mSTEP[0m: Saw pod success
Apr  6 16:05:24.535: INFO: Pod "client-can-connect-80-r9qb6" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-r9qb6
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:05:24.595: INFO: Waiting for client-can-connect-81-v27bb to complete.
Apr  6 16:05:28.624: INFO: Waiting for client-can-connect-81-v27bb to complete.
Apr  6 16:05:28.624: INFO: Waiting up to 5m0s for pod "client-can-connect-81-v27bb" in namespace "network-policy-2151" to be "Succeeded or Failed"
Apr  6 16:05:28.633: INFO: Pod "client-can-connect-81-v27bb": Phase="Succeeded", Reason="", readiness=false. Elapsed: 8.598429ms
[1mSTEP[0m: Saw pod success
Apr  6 16:05:28.633: INFO: Pod "client-can-connect-81-v27bb" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-v27bb
[It] should support allow-all policy [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:544
[1mSTEP[0m: Creating a network policy which allows all traffic.
[1mSTEP[0m: Testing pods can connect to both ports when an 'allow-all' policy is present.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 16:05:28.751: INFO: Waiting for client-a-jxq5f to complete.
Apr  6 16:05:32.804: INFO: Waiting for client-a-jxq5f to complete.
Apr  6 16:05:32.804: INFO: Waiting up to 5m0s for pod "client-a-jxq5f" in namespace "network-policy-2151" to be "Succeeded or Failed"
Apr  6 16:05:32.808: INFO: Pod "client-a-jxq5f": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.691747ms
[1mSTEP[0m: Saw pod success
Apr  6 16:05:32.808: INFO: Pod "client-a-jxq5f" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-jxq5f
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Apr  6 16:05:32.885: INFO: Waiting for client-b-s5fdx to complete.
Apr  6 16:05:36.897: INFO: Waiting for client-b-s5fdx to complete.
Apr  6 16:05:36.897: INFO: Waiting up to 5m0s for pod "client-b-s5fdx" in namespace "network-policy-2151" to be "Succeeded or Failed"
Apr  6 16:05:36.906: INFO: Pod "client-b-s5fdx": Phase="Succeeded", Reason="", readiness=false. Elapsed: 9.030557ms
[1mSTEP[0m: Saw pod success
Apr  6 16:05:36.906: INFO: Pod "client-b-s5fdx" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-s5fdx
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:05:37.182: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-2151" for this suite.

[32m• [SLOW TEST:29.368 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should support allow-all policy [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:544[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should support allow-all policy [Feature:NetworkPolicy]","total":26,"completed":8,"skipped":1478,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce policy based on Ports [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:460[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 16:05:37.247: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-6000
Apr  6 16:05:37.395: INFO: Created pod server-lzr85
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-6000
Apr  6 16:05:37.526: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:05:37.568: INFO: The status of Pod server-lzr85 is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:05:39.605: INFO: The status of Pod server-lzr85 is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:05:41.577: INFO: The status of Pod server-lzr85 is Running (Ready = false)
Apr  6 16:05:43.578: INFO: The status of Pod server-lzr85 is Running (Ready = false)
Apr  6 16:05:45.573: INFO: The status of Pod server-lzr85 is Running (Ready = false)
Apr  6 16:05:47.580: INFO: The status of Pod server-lzr85 is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 16:05:47.589: INFO: Waiting for client-can-connect-80-kpjfk to complete.
Apr  6 16:05:51.604: INFO: Waiting for client-can-connect-80-kpjfk to complete.
Apr  6 16:05:51.604: INFO: Waiting up to 5m0s for pod "client-can-connect-80-kpjfk" in namespace "network-policy-6000" to be "Succeeded or Failed"
Apr  6 16:05:51.612: INFO: Pod "client-can-connect-80-kpjfk": Phase="Succeeded", Reason="", readiness=false. Elapsed: 7.849482ms
[1mSTEP[0m: Saw pod success
Apr  6 16:05:51.612: INFO: Pod "client-can-connect-80-kpjfk" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-kpjfk
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:05:51.660: INFO: Waiting for client-can-connect-81-2wr7t to complete.
Apr  6 16:05:55.682: INFO: Waiting for client-can-connect-81-2wr7t to complete.
Apr  6 16:05:55.683: INFO: Waiting up to 5m0s for pod "client-can-connect-81-2wr7t" in namespace "network-policy-6000" to be "Succeeded or Failed"
Apr  6 16:05:55.687: INFO: Pod "client-can-connect-81-2wr7t": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.581809ms
[1mSTEP[0m: Saw pod success
Apr  6 16:05:55.688: INFO: Pod "client-can-connect-81-2wr7t" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-2wr7t
[It] should enforce policy based on Ports [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:460
[1mSTEP[0m: Creating a network policy for the Service which allows traffic only to one port.
[1mSTEP[0m: Testing pods can connect only to the port allowed by the policy.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Apr  6 16:05:55.840: INFO: Waiting for client-a-trjcz to complete.
Apr  6 16:05:55.841: INFO: Waiting up to 5m0s for pod "client-a-trjcz" in namespace "network-policy-6000" to be "Succeeded or Failed"
Apr  6 16:05:55.872: INFO: Pod "client-a-trjcz": Phase="Pending", Reason="", readiness=false. Elapsed: 31.873106ms
Apr  6 16:05:57.878: INFO: Pod "client-a-trjcz": Phase="Pending", Reason="", readiness=false. Elapsed: 2.037339696s
Apr  6 16:05:59.885: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 4.044793222s
Apr  6 16:06:01.892: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 6.051414984s
Apr  6 16:06:03.922: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 8.081336185s
Apr  6 16:06:05.930: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 10.089131345s
Apr  6 16:06:07.936: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 12.095364868s
Apr  6 16:06:09.941: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 14.10070773s
Apr  6 16:06:11.948: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 16.107773162s
Apr  6 16:06:13.961: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 18.120268184s
Apr  6 16:06:15.969: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 20.128298215s
Apr  6 16:06:17.975: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 22.134787652s
Apr  6 16:06:19.981: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 24.140719693s
Apr  6 16:06:21.987: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 26.146502507s
Apr  6 16:06:24.007: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 28.166499109s
Apr  6 16:06:26.015: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 30.174595373s
Apr  6 16:06:28.023: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 32.182229099s
Apr  6 16:06:30.028: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 34.187921146s
Apr  6 16:06:32.039: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 36.198912199s
Apr  6 16:06:34.197: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 38.356541151s
Apr  6 16:06:36.231: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 40.390714553s
Apr  6 16:06:38.238: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 42.397685919s
Apr  6 16:06:40.245: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 44.404545216s
Apr  6 16:06:42.252: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 46.411346171s
Apr  6 16:06:44.275: INFO: Pod "client-a-trjcz": Phase="Running", Reason="", readiness=true. Elapsed: 48.434219616s
Apr  6 16:06:46.284: INFO: Pod "client-a-trjcz": Phase="Failed", Reason="", readiness=false. Elapsed: 50.443866863s
[1mSTEP[0m: Cleaning up the pod client-a-trjcz
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Apr  6 16:06:46.387: INFO: Waiting for client-b-t7t4d to complete.
Apr  6 16:06:50.424: INFO: Waiting for client-b-t7t4d to complete.
Apr  6 16:06:50.424: INFO: Waiting up to 5m0s for pod "client-b-t7t4d" in namespace "network-policy-6000" to be "Succeeded or Failed"
Apr  6 16:06:50.438: INFO: Pod "client-b-t7t4d": Phase="Succeeded", Reason="", readiness=false. Elapsed: 13.720518ms
[1mSTEP[0m: Saw pod success
Apr  6 16:06:50.438: INFO: Pod "client-b-t7t4d" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-t7t4d
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:06:50.805: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-6000" for this suite.

[32m• [SLOW TEST:73.607 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce policy based on Ports [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:460[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce policy based on Ports [Feature:NetworkPolicy]","total":26,"completed":9,"skipped":1509,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce policies to check ingress and egress policies can be controlled independently based on PodSelector [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1497[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 16:06:50.896: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-2273
Apr  6 16:06:51.137: INFO: Created pod server-2kzjb
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-2273
Apr  6 16:06:51.362: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:06:51.377: INFO: The status of Pod server-2kzjb is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:06:54.032: INFO: The status of Pod server-2kzjb is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:06:55.386: INFO: The status of Pod server-2kzjb is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:06:57.389: INFO: The status of Pod server-2kzjb is Running (Ready = false)
Apr  6 16:06:59.384: INFO: The status of Pod server-2kzjb is Running (Ready = false)
Apr  6 16:07:01.384: INFO: The status of Pod server-2kzjb is Running (Ready = false)
Apr  6 16:07:03.383: INFO: The status of Pod server-2kzjb is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 16:07:03.438: INFO: Waiting for client-can-connect-80-kpz7w to complete.
Apr  6 16:07:09.462: INFO: Waiting for client-can-connect-80-kpz7w to complete.
Apr  6 16:07:09.463: INFO: Waiting up to 5m0s for pod "client-can-connect-80-kpz7w" in namespace "network-policy-2273" to be "Succeeded or Failed"
Apr  6 16:07:09.471: INFO: Pod "client-can-connect-80-kpz7w": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.013222ms
[1mSTEP[0m: Saw pod success
Apr  6 16:07:09.471: INFO: Pod "client-can-connect-80-kpz7w" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-kpz7w
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:07:09.577: INFO: Waiting for client-can-connect-81-mh58f to complete.
Apr  6 16:07:13.612: INFO: Waiting for client-can-connect-81-mh58f to complete.
Apr  6 16:07:13.612: INFO: Waiting up to 5m0s for pod "client-can-connect-81-mh58f" in namespace "network-policy-2273" to be "Succeeded or Failed"
Apr  6 16:07:13.618: INFO: Pod "client-can-connect-81-mh58f": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.468074ms
[1mSTEP[0m: Saw pod success
Apr  6 16:07:13.618: INFO: Pod "client-can-connect-81-mh58f" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-mh58f
[It] should enforce policies to check ingress and egress policies can be controlled independently based on PodSelector [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1497
[1mSTEP[0m: Creating a server pod pod-a in namespace network-policy-2273
Apr  6 16:07:13.668: INFO: Created pod pod-a-d9cxj
[1mSTEP[0m: Creating a service svc-pod-a for pod pod-a in namespace network-policy-2273
Apr  6 16:07:13.775: INFO: Created service svc-pod-a
[1mSTEP[0m: Waiting for pod-a to be ready
Apr  6 16:07:13.790: INFO: The status of Pod pod-a-d9cxj is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:07:15.796: INFO: The status of Pod pod-a-d9cxj is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:07:17.796: INFO: The status of Pod pod-a-d9cxj is Running (Ready = false)
Apr  6 16:07:19.795: INFO: The status of Pod pod-a-d9cxj is Running (Ready = false)
Apr  6 16:07:21.795: INFO: The status of Pod pod-a-d9cxj is Running (Ready = true)
[1mSTEP[0m: Creating client pod-b which should be able to contact the server pod-a.
[1mSTEP[0m: Creating client pod pod-b that should successfully connect to svc-pod-a.
Apr  6 16:07:21.818: INFO: Waiting for pod-b-l7wdx to complete.
Apr  6 16:07:25.848: INFO: Waiting for pod-b-l7wdx to complete.
Apr  6 16:07:25.848: INFO: Waiting up to 5m0s for pod "pod-b-l7wdx" in namespace "network-policy-2273" to be "Succeeded or Failed"
Apr  6 16:07:25.855: INFO: Pod "pod-b-l7wdx": Phase="Succeeded", Reason="", readiness=false. Elapsed: 7.344228ms
[1mSTEP[0m: Saw pod success
Apr  6 16:07:25.855: INFO: Pod "pod-b-l7wdx" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod pod-b-l7wdx
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[1mSTEP[0m: Creating a server pod pod-b in namespace network-policy-2273
Apr  6 16:07:26.130: INFO: Created pod pod-b-vkq4k
[1mSTEP[0m: Creating a service svc-pod-b for pod pod-b in namespace network-policy-2273
Apr  6 16:07:26.240: INFO: Created service svc-pod-b
[1mSTEP[0m: Waiting for pod-b to be ready
Apr  6 16:07:26.252: INFO: The status of Pod pod-b-vkq4k is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:07:28.256: INFO: The status of Pod pod-b-vkq4k is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:07:30.257: INFO: The status of Pod pod-b-vkq4k is Running (Ready = false)
Apr  6 16:07:32.256: INFO: The status of Pod pod-b-vkq4k is Running (Ready = false)
Apr  6 16:07:34.268: INFO: The status of Pod pod-b-vkq4k is Running (Ready = true)
[1mSTEP[0m: Creating client pod-a which should be able to contact the server pod-b.
[1mSTEP[0m: Creating client pod pod-a that should successfully connect to svc-pod-b.
Apr  6 16:07:34.305: INFO: Waiting for pod-a-7p4l4 to complete.
Apr  6 16:07:38.347: INFO: Waiting for pod-a-7p4l4 to complete.
Apr  6 16:07:38.347: INFO: Waiting up to 5m0s for pod "pod-a-7p4l4" in namespace "network-policy-2273" to be "Succeeded or Failed"
Apr  6 16:07:38.350: INFO: Pod "pod-a-7p4l4": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.364722ms
[1mSTEP[0m: Saw pod success
Apr  6 16:07:38.350: INFO: Pod "pod-a-7p4l4" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod pod-a-7p4l4
[1mSTEP[0m: Creating a network policy for pod-a which allows Egress traffic to pod-b.
[1mSTEP[0m: Creating a network policy for pod-a that denies traffic from pod-b.
[1mSTEP[0m: Creating client pod-a which should be able to contact the server pod-b.
[1mSTEP[0m: Creating client pod pod-a that should successfully connect to svc-pod-b.
Apr  6 16:07:38.423: INFO: Waiting for pod-a-v2j47 to complete.
Apr  6 16:07:42.442: INFO: Waiting for pod-a-v2j47 to complete.
Apr  6 16:07:42.442: INFO: Waiting up to 5m0s for pod "pod-a-v2j47" in namespace "network-policy-2273" to be "Succeeded or Failed"
Apr  6 16:07:42.446: INFO: Pod "pod-a-v2j47": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.135275ms
[1mSTEP[0m: Saw pod success
Apr  6 16:07:42.446: INFO: Pod "pod-a-v2j47" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod pod-a-v2j47
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[1mSTEP[0m: Creating a server pod pod-a in namespace network-policy-2273
Apr  6 16:07:42.751: INFO: Created pod pod-a-qpcrv
[1mSTEP[0m: Creating a service svc-pod-a for pod pod-a in namespace network-policy-2273
Apr  6 16:07:42.870: INFO: Created service svc-pod-a
[1mSTEP[0m: Waiting for pod-a to be ready
Apr  6 16:07:42.887: INFO: The status of Pod pod-a-qpcrv is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:07:44.897: INFO: The status of Pod pod-a-qpcrv is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:07:46.895: INFO: The status of Pod pod-a-qpcrv is Running (Ready = false)
Apr  6 16:07:48.897: INFO: The status of Pod pod-a-qpcrv is Running (Ready = false)
Apr  6 16:07:50.894: INFO: The status of Pod pod-a-qpcrv is Running (Ready = false)
Apr  6 16:07:52.896: INFO: The status of Pod pod-a-qpcrv is Running (Ready = false)
Apr  6 16:07:54.903: INFO: The status of Pod pod-a-qpcrv is Running (Ready = true)
[1mSTEP[0m: Creating client pod-b which should be able to contact the server pod-a.
[1mSTEP[0m: Creating client pod pod-b that should not be able to connect to svc-pod-a.
Apr  6 16:07:54.926: INFO: Waiting for pod-b-rzjz6 to complete.
Apr  6 16:07:54.926: INFO: Waiting up to 5m0s for pod "pod-b-rzjz6" in namespace "network-policy-2273" to be "Succeeded or Failed"
Apr  6 16:07:54.950: INFO: Pod "pod-b-rzjz6": Phase="Pending", Reason="", readiness=false. Elapsed: 23.299268ms
Apr  6 16:07:56.967: INFO: Pod "pod-b-rzjz6": Phase="Pending", Reason="", readiness=false. Elapsed: 2.040770245s
Apr  6 16:07:58.972: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 4.045676766s
Apr  6 16:08:00.976: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 6.050053477s
Apr  6 16:08:02.982: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 8.055955331s
Apr  6 16:08:04.993: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 10.066864757s
Apr  6 16:08:07.001: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 12.0747985s
Apr  6 16:08:09.007: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 14.080278625s
Apr  6 16:08:11.014: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 16.088161295s
Apr  6 16:08:13.021: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 18.094317005s
Apr  6 16:08:15.036: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 20.109240165s
Apr  6 16:08:17.045: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 22.118502313s
Apr  6 16:08:19.052: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 24.125223847s
Apr  6 16:08:21.058: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 26.13132735s
Apr  6 16:08:23.064: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 28.13775528s
Apr  6 16:08:25.078: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 30.151283659s
Apr  6 16:08:27.085: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 32.158741013s
Apr  6 16:08:29.093: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 34.166411456s
Apr  6 16:08:31.098: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 36.172073036s
Apr  6 16:08:33.105: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 38.17908436s
Apr  6 16:08:35.128: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 40.201630605s
Apr  6 16:08:37.139: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 42.212348867s
Apr  6 16:08:39.146: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 44.220115777s
Apr  6 16:08:41.153: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 46.226205706s
Apr  6 16:08:43.161: INFO: Pod "pod-b-rzjz6": Phase="Running", Reason="", readiness=true. Elapsed: 48.234427546s
Apr  6 16:08:45.177: INFO: Pod "pod-b-rzjz6": Phase="Failed", Reason="", readiness=false. Elapsed: 50.250652499s
[1mSTEP[0m: Cleaning up the pod pod-b-rzjz6
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[1mSTEP[0m: Cleaning up the policy.
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:08:45.901: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-2273" for this suite.

[32m• [SLOW TEST:115.026 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce policies to check ingress and egress policies can be controlled independently based on PodSelector [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1497[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce policies to check ingress and egress policies can be controlled independently based on PodSelector [Feature:NetworkPolicy]","total":26,"completed":10,"skipped":1794,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce policy based on PodSelector with MatchExpressions[Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:205[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 16:08:46.039: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-9240
Apr  6 16:08:46.237: INFO: Created pod server-fw52l
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-9240
Apr  6 16:08:46.288: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:08:46.328: INFO: The status of Pod server-fw52l is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:08:48.338: INFO: The status of Pod server-fw52l is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:08:50.357: INFO: The status of Pod server-fw52l is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:08:52.333: INFO: The status of Pod server-fw52l is Running (Ready = false)
Apr  6 16:08:54.348: INFO: The status of Pod server-fw52l is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 16:08:54.365: INFO: Waiting for client-can-connect-80-kf6cj to complete.
Apr  6 16:08:58.378: INFO: Waiting for client-can-connect-80-kf6cj to complete.
Apr  6 16:08:58.378: INFO: Waiting up to 5m0s for pod "client-can-connect-80-kf6cj" in namespace "network-policy-9240" to be "Succeeded or Failed"
Apr  6 16:08:58.383: INFO: Pod "client-can-connect-80-kf6cj": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.888819ms
[1mSTEP[0m: Saw pod success
Apr  6 16:08:58.383: INFO: Pod "client-can-connect-80-kf6cj" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-kf6cj
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:08:58.433: INFO: Waiting for client-can-connect-81-x8pjn to complete.
Apr  6 16:09:02.463: INFO: Waiting for client-can-connect-81-x8pjn to complete.
Apr  6 16:09:02.464: INFO: Waiting up to 5m0s for pod "client-can-connect-81-x8pjn" in namespace "network-policy-9240" to be "Succeeded or Failed"
Apr  6 16:09:02.473: INFO: Pod "client-can-connect-81-x8pjn": Phase="Succeeded", Reason="", readiness=false. Elapsed: 9.139364ms
[1mSTEP[0m: Saw pod success
Apr  6 16:09:02.474: INFO: Pod "client-can-connect-81-x8pjn" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-x8pjn
[It] should enforce policy based on PodSelector with MatchExpressions[Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:205
[1mSTEP[0m: Creating a network policy for the server which allows traffic from the pod 'client-a'.
[1mSTEP[0m: Creating client-a which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 16:09:02.566: INFO: Waiting for client-a-rkfbz to complete.
Apr  6 16:09:06.597: INFO: Waiting for client-a-rkfbz to complete.
Apr  6 16:09:06.597: INFO: Waiting up to 5m0s for pod "client-a-rkfbz" in namespace "network-policy-9240" to be "Succeeded or Failed"
Apr  6 16:09:06.601: INFO: Pod "client-a-rkfbz": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.109506ms
[1mSTEP[0m: Saw pod success
Apr  6 16:09:06.601: INFO: Pod "client-a-rkfbz" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-rkfbz
[1mSTEP[0m: Creating client-b which should not be able to contact the server.
[1mSTEP[0m: Creating client pod client-b that should not be able to connect to svc-server.
Apr  6 16:09:06.646: INFO: Waiting for client-b-hpjmx to complete.
Apr  6 16:09:06.646: INFO: Waiting up to 5m0s for pod "client-b-hpjmx" in namespace "network-policy-9240" to be "Succeeded or Failed"
Apr  6 16:09:06.660: INFO: Pod "client-b-hpjmx": Phase="Pending", Reason="", readiness=false. Elapsed: 13.506654ms
Apr  6 16:09:08.666: INFO: Pod "client-b-hpjmx": Phase="Pending", Reason="", readiness=false. Elapsed: 2.019664015s
Apr  6 16:09:10.674: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 4.027650508s
Apr  6 16:09:12.680: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 6.034042875s
Apr  6 16:09:14.688: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 8.041560097s
Apr  6 16:09:16.692: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 10.045929388s
Apr  6 16:09:18.701: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 12.05483837s
Apr  6 16:09:20.708: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 14.062164458s
Apr  6 16:09:22.714: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 16.067319827s
Apr  6 16:09:24.723: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 18.076511258s
Apr  6 16:09:26.729: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 20.082719293s
Apr  6 16:09:28.738: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 22.092008907s
Apr  6 16:09:30.746: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 24.099349621s
Apr  6 16:09:32.751: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 26.104316023s
Apr  6 16:09:34.762: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 28.115900102s
Apr  6 16:09:36.787: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 30.141139177s
Apr  6 16:09:38.797: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 32.150777502s
Apr  6 16:09:40.806: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 34.16000348s
Apr  6 16:09:42.812: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 36.165449389s
Apr  6 16:09:44.823: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 38.176856278s
Apr  6 16:09:46.838: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 40.19227989s
Apr  6 16:09:48.845: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 42.198971615s
Apr  6 16:09:50.852: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 44.205368201s
Apr  6 16:09:52.858: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 46.212197422s
Apr  6 16:09:54.869: INFO: Pod "client-b-hpjmx": Phase="Running", Reason="", readiness=true. Elapsed: 48.222970748s
Apr  6 16:09:56.878: INFO: Pod "client-b-hpjmx": Phase="Failed", Reason="", readiness=false. Elapsed: 50.232265744s
[1mSTEP[0m: Cleaning up the pod client-b-hpjmx
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:09:57.204: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-9240" for this suite.

[32m• [SLOW TEST:71.199 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce policy based on PodSelector with MatchExpressions[Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:205[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce policy based on PodSelector with MatchExpressions[Feature:NetworkPolicy]","total":26,"completed":11,"skipped":2112,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould deny ingress access to updated pod [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:873[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 16:09:57.246: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-7921
Apr  6 16:09:57.464: INFO: Created pod server-5pgxv
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-7921
Apr  6 16:09:57.576: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:09:57.596: INFO: The status of Pod server-5pgxv is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:09:59.608: INFO: The status of Pod server-5pgxv is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:10:01.604: INFO: The status of Pod server-5pgxv is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:10:03.623: INFO: The status of Pod server-5pgxv is Running (Ready = false)
Apr  6 16:10:05.603: INFO: The status of Pod server-5pgxv is Running (Ready = false)
Apr  6 16:10:07.603: INFO: The status of Pod server-5pgxv is Running (Ready = false)
Apr  6 16:10:09.600: INFO: The status of Pod server-5pgxv is Running (Ready = false)
Apr  6 16:10:11.602: INFO: The status of Pod server-5pgxv is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 16:10:11.618: INFO: Waiting for client-can-connect-80-24gwn to complete.
Apr  6 16:10:15.677: INFO: Waiting for client-can-connect-80-24gwn to complete.
Apr  6 16:10:15.679: INFO: Waiting up to 5m0s for pod "client-can-connect-80-24gwn" in namespace "network-policy-7921" to be "Succeeded or Failed"
Apr  6 16:10:15.691: INFO: Pod "client-can-connect-80-24gwn": Phase="Succeeded", Reason="", readiness=false. Elapsed: 11.525557ms
[1mSTEP[0m: Saw pod success
Apr  6 16:10:15.691: INFO: Pod "client-can-connect-80-24gwn" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-24gwn
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:10:15.798: INFO: Waiting for client-can-connect-81-h556m to complete.
Apr  6 16:10:19.854: INFO: Waiting for client-can-connect-81-h556m to complete.
Apr  6 16:10:19.854: INFO: Waiting up to 5m0s for pod "client-can-connect-81-h556m" in namespace "network-policy-7921" to be "Succeeded or Failed"
Apr  6 16:10:19.859: INFO: Pod "client-can-connect-81-h556m": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.773789ms
[1mSTEP[0m: Saw pod success
Apr  6 16:10:19.859: INFO: Pod "client-can-connect-81-h556m" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-h556m
[It] should deny ingress access to updated pod [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:873
[1mSTEP[0m: Creating a network policy for the server which denies all traffic.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 16:10:19.938: INFO: Waiting for client-a-whrjj to complete.
Apr  6 16:10:23.972: INFO: Waiting for client-a-whrjj to complete.
Apr  6 16:10:23.972: INFO: Waiting up to 5m0s for pod "client-a-whrjj" in namespace "network-policy-7921" to be "Succeeded or Failed"
Apr  6 16:10:23.978: INFO: Pod "client-a-whrjj": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.072144ms
[1mSTEP[0m: Saw pod success
Apr  6 16:10:23.978: INFO: Pod "client-a-whrjj" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-whrjj
[1mSTEP[0m: Updating server pod server-5pgxv to be selected by network policy deny-ingress-via-isolated-label-selector.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Apr  6 16:10:24.179: INFO: Waiting for client-a-kbgck to complete.
Apr  6 16:10:24.179: INFO: Waiting up to 5m0s for pod "client-a-kbgck" in namespace "network-policy-7921" to be "Succeeded or Failed"
Apr  6 16:10:24.203: INFO: Pod "client-a-kbgck": Phase="Pending", Reason="", readiness=false. Elapsed: 24.533883ms
Apr  6 16:10:26.210: INFO: Pod "client-a-kbgck": Phase="Pending", Reason="", readiness=false. Elapsed: 2.031328249s
Apr  6 16:10:28.218: INFO: Pod "client-a-kbgck": Phase="Running", Reason="", readiness=true. Elapsed: 4.038963143s
Apr  6 16:10:30.224: INFO: Pod "client-a-kbgck": Phase="Running", Reason="", readiness=true. Elapsed: 6.045090842s
Apr  6 16:10:32.231: INFO: Pod "client-a-kbgck": Phase="Running", Reason="", readiness=true. Elapsed: 8.052252208s
Apr  6 16:10:34.281: INFO: Pod "client-a-kbgck": Phase="Running", Reason="", readiness=true. Elapsed: 10.101937725s
Apr  6 16:10:36.289: INFO: Pod "client-a-kbgck": Phase="Running", Reason="", readiness=true. Elapsed: 12.110309618s
Apr  6 16:10:38.294: INFO: Pod "client-a-kbgck": Phase="Running", Reason="", readiness=true. Elapsed: 14.115393028s
Apr  6 16:10:40.313: INFO: Pod "client-a-kbgck": Phase="Running", Reason="", readiness=true. Elapsed: 16.13402078s
Apr  6 16:10:42.319: INFO: Pod "client-a-kbgck": Phase="Running", Reason="", readiness=true. Elapsed: 18.1402997s
Apr  6 16:10:44.365: INFO: Pod "client-a-kbgck": Phase="Running", Reason="", readiness=true. Elapsed: 20.186617713s
Apr  6 16:10:46.372: INFO: Pod "client-a-kbgck": Phase="Running", Reason="", readiness=true. Elapsed: 22.193050453s
Apr  6 16:10:48.378: INFO: Pod "client-a-kbgck": Phase="Running", Reason="", readiness=true. Elapsed: 24.198954147s
Apr  6 16:10:50.390: INFO: Pod "client-a-kbgck": Phase="Running", Reason="", readiness=true. Elapsed: 26.211769498s
Apr  6 16:10:52.397: INFO: Pod "client-a-kbgck": Phase="Running", Reason="", readiness=true. Elapsed: 28.217978507s
Apr  6 16:10:54.416: INFO: Pod "client-a-kbgck": Phase="Running", Reason="", readiness=true. Elapsed: 30.237540885s
Apr  6 16:10:56.427: INFO: Pod "client-a-kbgck": Phase="Running", Reason="", readiness=true. Elapsed: 32.248701034s
Apr  6 16:10:58.436: INFO: Pod "client-a-kbgck": Phase="Running", Reason="", readiness=true. Elapsed: 34.257216159s
Apr  6 16:11:00.445: INFO: Pod "client-a-kbgck": Phase="Running", Reason="", readiness=true. Elapsed: 36.26655502s
Apr  6 16:11:02.453: INFO: Pod "client-a-kbgck": Phase="Running", Reason="", readiness=true. Elapsed: 38.274102143s
Apr  6 16:11:04.464: INFO: Pod "client-a-kbgck": Phase="Running", Reason="", readiness=true. Elapsed: 40.285717936s
Apr  6 16:11:06.471: INFO: Pod "client-a-kbgck": Phase="Running", Reason="", readiness=true. Elapsed: 42.292609664s
Apr  6 16:11:08.477: INFO: Pod "client-a-kbgck": Phase="Running", Reason="", readiness=true. Elapsed: 44.298494865s
Apr  6 16:11:10.481: INFO: Pod "client-a-kbgck": Phase="Running", Reason="", readiness=true. Elapsed: 46.302635114s
Apr  6 16:11:12.491: INFO: Pod "client-a-kbgck": Phase="Failed", Reason="", readiness=false. Elapsed: 48.3124769s
[1mSTEP[0m: Cleaning up the pod client-a-kbgck
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:11:12.864: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-7921" for this suite.

[32m• [SLOW TEST:75.682 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should deny ingress access to updated pod [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:873[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should deny ingress access to updated pod [Feature:NetworkPolicy]","total":26,"completed":12,"skipped":2125,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould allow ingress access from updated namespace [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:775[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 16:11:12.957: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-4099
Apr  6 16:11:13.184: INFO: Created pod server-xzzjx
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-4099
Apr  6 16:11:13.250: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:11:13.313: INFO: The status of Pod server-xzzjx is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:11:15.322: INFO: The status of Pod server-xzzjx is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:11:17.333: INFO: The status of Pod server-xzzjx is Running (Ready = false)
Apr  6 16:11:19.325: INFO: The status of Pod server-xzzjx is Running (Ready = false)
Apr  6 16:11:21.325: INFO: The status of Pod server-xzzjx is Running (Ready = false)
Apr  6 16:11:23.319: INFO: The status of Pod server-xzzjx is Running (Ready = false)
Apr  6 16:11:25.321: INFO: The status of Pod server-xzzjx is Running (Ready = false)
Apr  6 16:11:27.320: INFO: The status of Pod server-xzzjx is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 16:11:27.334: INFO: Waiting for client-can-connect-80-sln4z to complete.
Apr  6 16:11:31.346: INFO: Waiting for client-can-connect-80-sln4z to complete.
Apr  6 16:11:31.346: INFO: Waiting up to 5m0s for pod "client-can-connect-80-sln4z" in namespace "network-policy-4099" to be "Succeeded or Failed"
Apr  6 16:11:31.350: INFO: Pod "client-can-connect-80-sln4z": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.584776ms
[1mSTEP[0m: Saw pod success
Apr  6 16:11:31.350: INFO: Pod "client-can-connect-80-sln4z" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-sln4z
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:11:31.404: INFO: Waiting for client-can-connect-81-4j6rw to complete.
Apr  6 16:11:35.420: INFO: Waiting for client-can-connect-81-4j6rw to complete.
Apr  6 16:11:35.420: INFO: Waiting up to 5m0s for pod "client-can-connect-81-4j6rw" in namespace "network-policy-4099" to be "Succeeded or Failed"
Apr  6 16:11:35.425: INFO: Pod "client-can-connect-81-4j6rw": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.929067ms
[1mSTEP[0m: Saw pod success
Apr  6 16:11:35.426: INFO: Pod "client-can-connect-81-4j6rw" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-4j6rw
[It] should allow ingress access from updated namespace [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:775
[1mSTEP[0m: Creating a network policy for the server which allows traffic from namespace-b.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Apr  6 16:11:35.553: INFO: Waiting for client-a-kxbbf to complete.
Apr  6 16:11:35.553: INFO: Waiting up to 5m0s for pod "client-a-kxbbf" in namespace "network-policy-b-2448" to be "Succeeded or Failed"
Apr  6 16:11:35.585: INFO: Pod "client-a-kxbbf": Phase="Pending", Reason="", readiness=false. Elapsed: 32.24345ms
Apr  6 16:11:37.592: INFO: Pod "client-a-kxbbf": Phase="Pending", Reason="", readiness=false. Elapsed: 2.039314552s
Apr  6 16:11:39.601: INFO: Pod "client-a-kxbbf": Phase="Running", Reason="", readiness=true. Elapsed: 4.047978101s
Apr  6 16:11:41.623: INFO: Pod "client-a-kxbbf": Phase="Running", Reason="", readiness=true. Elapsed: 6.070015039s
Apr  6 16:11:43.758: INFO: Pod "client-a-kxbbf": Phase="Running", Reason="", readiness=true. Elapsed: 8.204613497s
Apr  6 16:11:45.779: INFO: Pod "client-a-kxbbf": Phase="Running", Reason="", readiness=true. Elapsed: 10.226469882s
Apr  6 16:11:47.789: INFO: Pod "client-a-kxbbf": Phase="Running", Reason="", readiness=true. Elapsed: 12.235891964s
Apr  6 16:11:49.797: INFO: Pod "client-a-kxbbf": Phase="Running", Reason="", readiness=true. Elapsed: 14.244114502s
Apr  6 16:11:51.807: INFO: Pod "client-a-kxbbf": Phase="Running", Reason="", readiness=true. Elapsed: 16.254525844s
Apr  6 16:11:53.832: INFO: Pod "client-a-kxbbf": Phase="Running", Reason="", readiness=true. Elapsed: 18.278617021s
Apr  6 16:11:55.849: INFO: Pod "client-a-kxbbf": Phase="Running", Reason="", readiness=true. Elapsed: 20.296131142s
Apr  6 16:11:57.857: INFO: Pod "client-a-kxbbf": Phase="Running", Reason="", readiness=true. Elapsed: 22.30357801s
Apr  6 16:11:59.864: INFO: Pod "client-a-kxbbf": Phase="Running", Reason="", readiness=true. Elapsed: 24.311122032s
Apr  6 16:12:01.872: INFO: Pod "client-a-kxbbf": Phase="Running", Reason="", readiness=true. Elapsed: 26.319458532s
Apr  6 16:12:03.891: INFO: Pod "client-a-kxbbf": Phase="Running", Reason="", readiness=true. Elapsed: 28.338088985s
Apr  6 16:12:05.902: INFO: Pod "client-a-kxbbf": Phase="Running", Reason="", readiness=true. Elapsed: 30.349170836s
Apr  6 16:12:07.910: INFO: Pod "client-a-kxbbf": Phase="Running", Reason="", readiness=true. Elapsed: 32.356740483s
Apr  6 16:12:09.917: INFO: Pod "client-a-kxbbf": Phase="Running", Reason="", readiness=true. Elapsed: 34.364313512s
Apr  6 16:12:11.925: INFO: Pod "client-a-kxbbf": Phase="Running", Reason="", readiness=true. Elapsed: 36.372375609s
Apr  6 16:12:13.957: INFO: Pod "client-a-kxbbf": Phase="Running", Reason="", readiness=true. Elapsed: 38.403505993s
Apr  6 16:12:15.963: INFO: Pod "client-a-kxbbf": Phase="Running", Reason="", readiness=true. Elapsed: 40.410444355s
Apr  6 16:12:17.972: INFO: Pod "client-a-kxbbf": Phase="Running", Reason="", readiness=true. Elapsed: 42.41858892s
Apr  6 16:12:19.978: INFO: Pod "client-a-kxbbf": Phase="Running", Reason="", readiness=true. Elapsed: 44.425483804s
Apr  6 16:12:21.985: INFO: Pod "client-a-kxbbf": Phase="Running", Reason="", readiness=true. Elapsed: 46.431551809s
Apr  6 16:12:23.997: INFO: Pod "client-a-kxbbf": Phase="Failed", Reason="", readiness=false. Elapsed: 48.444240822s
[1mSTEP[0m: Cleaning up the pod client-a-kxbbf
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Apr  6 16:12:24.144: INFO: Waiting for client-b-mjk44 to complete.
Apr  6 16:12:28.172: INFO: Waiting for client-b-mjk44 to complete.
Apr  6 16:12:28.172: INFO: Waiting up to 5m0s for pod "client-b-mjk44" in namespace "network-policy-b-2448" to be "Succeeded or Failed"
Apr  6 16:12:28.175: INFO: Pod "client-b-mjk44": Phase="Succeeded", Reason="", readiness=false. Elapsed: 2.951468ms
[1mSTEP[0m: Saw pod success
Apr  6 16:12:28.175: INFO: Pod "client-b-mjk44" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-mjk44
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:12:28.428: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-4099" for this suite.
[1mSTEP[0m: Destroying namespace "network-policy-b-2448" for this suite.

[32m• [SLOW TEST:75.543 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should allow ingress access from updated namespace [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:775[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should allow ingress access from updated namespace [Feature:NetworkPolicy]","total":26,"completed":13,"skipped":2137,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce policy based on PodSelector and NamespaceSelector [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:338[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 16:12:28.583: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-7093
Apr  6 16:12:28.838: INFO: Created pod server-kssg2
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-7093
Apr  6 16:12:28.935: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:12:28.975: INFO: The status of Pod server-kssg2 is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:12:30.980: INFO: The status of Pod server-kssg2 is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:12:32.980: INFO: The status of Pod server-kssg2 is Running (Ready = false)
Apr  6 16:12:34.986: INFO: The status of Pod server-kssg2 is Running (Ready = false)
Apr  6 16:12:36.981: INFO: The status of Pod server-kssg2 is Running (Ready = false)
Apr  6 16:12:38.981: INFO: The status of Pod server-kssg2 is Running (Ready = false)
Apr  6 16:12:40.980: INFO: The status of Pod server-kssg2 is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 16:12:40.993: INFO: Waiting for client-can-connect-80-fthgs to complete.
Apr  6 16:12:45.021: INFO: Waiting for client-can-connect-80-fthgs to complete.
Apr  6 16:12:45.022: INFO: Waiting up to 5m0s for pod "client-can-connect-80-fthgs" in namespace "network-policy-7093" to be "Succeeded or Failed"
Apr  6 16:12:45.026: INFO: Pod "client-can-connect-80-fthgs": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.140477ms
[1mSTEP[0m: Saw pod success
Apr  6 16:12:45.026: INFO: Pod "client-can-connect-80-fthgs" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-fthgs
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:12:45.091: INFO: Waiting for client-can-connect-81-jz94l to complete.
Apr  6 16:12:49.112: INFO: Waiting for client-can-connect-81-jz94l to complete.
Apr  6 16:12:49.112: INFO: Waiting up to 5m0s for pod "client-can-connect-81-jz94l" in namespace "network-policy-7093" to be "Succeeded or Failed"
Apr  6 16:12:49.117: INFO: Pod "client-can-connect-81-jz94l": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.841906ms
[1mSTEP[0m: Saw pod success
Apr  6 16:12:49.117: INFO: Pod "client-can-connect-81-jz94l" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-jz94l
[It] should enforce policy based on PodSelector and NamespaceSelector [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:338
[1mSTEP[0m: Creating a network policy for the server which allows traffic from client-b in namespace-b.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Apr  6 16:12:49.264: INFO: Waiting for client-a-862bp to complete.
Apr  6 16:12:49.264: INFO: Waiting up to 5m0s for pod "client-a-862bp" in namespace "network-policy-b-1933" to be "Succeeded or Failed"
Apr  6 16:12:49.273: INFO: Pod "client-a-862bp": Phase="Pending", Reason="", readiness=false. Elapsed: 9.519098ms
Apr  6 16:12:51.290: INFO: Pod "client-a-862bp": Phase="Pending", Reason="", readiness=false. Elapsed: 2.025775519s
Apr  6 16:12:53.295: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 4.031007151s
Apr  6 16:12:55.310: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 6.046157529s
Apr  6 16:12:57.318: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 8.053995678s
Apr  6 16:12:59.325: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 10.061575555s
Apr  6 16:13:01.331: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 12.067211288s
Apr  6 16:13:03.338: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 14.074124733s
Apr  6 16:13:05.354: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 16.09006193s
Apr  6 16:13:07.359: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 18.09482246s
Apr  6 16:13:09.366: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 20.102511396s
Apr  6 16:13:11.372: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 22.107796918s
Apr  6 16:13:13.381: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 24.116688513s
Apr  6 16:13:15.390: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 26.126263051s
Apr  6 16:13:17.396: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 28.131658116s
Apr  6 16:13:19.402: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 30.138368435s
Apr  6 16:13:21.407: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 32.143296636s
Apr  6 16:13:23.412: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 34.148278631s
Apr  6 16:13:25.419: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 36.155235054s
Apr  6 16:13:27.425: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 38.16131407s
Apr  6 16:13:29.451: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 40.187139095s
Apr  6 16:13:31.459: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 42.194978644s
Apr  6 16:13:33.465: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 44.201283824s
Apr  6 16:13:35.471: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 46.207045035s
Apr  6 16:13:37.477: INFO: Pod "client-a-862bp": Phase="Running", Reason="", readiness=true. Elapsed: 48.212704853s
Apr  6 16:13:39.481: INFO: Pod "client-a-862bp": Phase="Failed", Reason="", readiness=false. Elapsed: 50.217269415s
[1mSTEP[0m: Cleaning up the pod client-a-862bp
[1mSTEP[0m: Creating client pod client-b that should not be able to connect to svc-server.
Apr  6 16:13:39.533: INFO: Waiting for client-b-gt9g8 to complete.
Apr  6 16:13:39.534: INFO: Waiting up to 5m0s for pod "client-b-gt9g8" in namespace "network-policy-7093" to be "Succeeded or Failed"
Apr  6 16:13:39.559: INFO: Pod "client-b-gt9g8": Phase="Pending", Reason="", readiness=false. Elapsed: 25.085237ms
Apr  6 16:13:41.566: INFO: Pod "client-b-gt9g8": Phase="Pending", Reason="", readiness=false. Elapsed: 2.031807461s
Apr  6 16:13:43.586: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 4.052649846s
Apr  6 16:13:45.595: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 6.061000348s
Apr  6 16:13:47.602: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 8.067990077s
Apr  6 16:13:49.608: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 10.073753008s
Apr  6 16:13:51.612: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 12.078719979s
Apr  6 16:13:53.617: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 14.083689947s
Apr  6 16:13:55.625: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 16.091029544s
Apr  6 16:13:57.632: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 18.098370031s
Apr  6 16:13:59.639: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 20.105232004s
Apr  6 16:14:01.646: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 22.111989637s
Apr  6 16:14:03.653: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 24.119042822s
Apr  6 16:14:05.663: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 26.129116546s
Apr  6 16:14:07.670: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 28.135851239s
Apr  6 16:14:09.676: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 30.142192724s
Apr  6 16:14:11.683: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 32.14904688s
Apr  6 16:14:13.690: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 34.156466316s
Apr  6 16:14:15.701: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 36.167362626s
Apr  6 16:14:17.711: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 38.17750706s
Apr  6 16:14:19.718: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 40.183902099s
Apr  6 16:14:21.730: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 42.196205108s
Apr  6 16:14:23.785: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 44.251214256s
Apr  6 16:14:25.799: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 46.264769001s
Apr  6 16:14:27.806: INFO: Pod "client-b-gt9g8": Phase="Running", Reason="", readiness=true. Elapsed: 48.272563914s
Apr  6 16:14:29.812: INFO: Pod "client-b-gt9g8": Phase="Failed", Reason="", readiness=false. Elapsed: 50.278538012s
[1mSTEP[0m: Cleaning up the pod client-b-gt9g8
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Apr  6 16:14:29.890: INFO: Waiting for client-b-dq42s to complete.
Apr  6 16:14:33.919: INFO: Waiting for client-b-dq42s to complete.
Apr  6 16:14:33.920: INFO: Waiting up to 5m0s for pod "client-b-dq42s" in namespace "network-policy-b-1933" to be "Succeeded or Failed"
Apr  6 16:14:33.928: INFO: Pod "client-b-dq42s": Phase="Succeeded", Reason="", readiness=false. Elapsed: 7.812616ms
[1mSTEP[0m: Saw pod success
Apr  6 16:14:33.928: INFO: Pod "client-b-dq42s" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-dq42s
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:14:34.453: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-7093" for this suite.
[1mSTEP[0m: Destroying namespace "network-policy-b-1933" for this suite.

[32m• [SLOW TEST:125.951 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce policy based on PodSelector and NamespaceSelector [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:338[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce policy based on PodSelector and NamespaceSelector [Feature:NetworkPolicy]","total":26,"completed":14,"skipped":2309,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce policy to allow traffic only from a pod in a different namespace based on PodSelector and NamespaceSelector [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:384[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 16:14:34.571: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-7089
Apr  6 16:14:34.831: INFO: Created pod server-rwwxv
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-7089
Apr  6 16:14:34.911: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:14:34.934: INFO: The status of Pod server-rwwxv is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:14:36.944: INFO: The status of Pod server-rwwxv is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:14:38.946: INFO: The status of Pod server-rwwxv is Running (Ready = false)
Apr  6 16:14:40.953: INFO: The status of Pod server-rwwxv is Running (Ready = false)
Apr  6 16:14:42.943: INFO: The status of Pod server-rwwxv is Running (Ready = false)
Apr  6 16:14:45.142: INFO: The status of Pod server-rwwxv is Running (Ready = false)
Apr  6 16:14:46.958: INFO: The status of Pod server-rwwxv is Running (Ready = false)
Apr  6 16:14:48.955: INFO: The status of Pod server-rwwxv is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 16:14:48.989: INFO: Waiting for client-can-connect-80-xjh9g to complete.
Apr  6 16:14:55.032: INFO: Waiting for client-can-connect-80-xjh9g to complete.
Apr  6 16:14:55.033: INFO: Waiting up to 5m0s for pod "client-can-connect-80-xjh9g" in namespace "network-policy-7089" to be "Succeeded or Failed"
Apr  6 16:14:55.040: INFO: Pod "client-can-connect-80-xjh9g": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.199657ms
[1mSTEP[0m: Saw pod success
Apr  6 16:14:55.040: INFO: Pod "client-can-connect-80-xjh9g" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-xjh9g
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:14:55.120: INFO: Waiting for client-can-connect-81-xx8cn to complete.
Apr  6 16:14:59.142: INFO: Waiting for client-can-connect-81-xx8cn to complete.
Apr  6 16:14:59.142: INFO: Waiting up to 5m0s for pod "client-can-connect-81-xx8cn" in namespace "network-policy-7089" to be "Succeeded or Failed"
Apr  6 16:14:59.148: INFO: Pod "client-can-connect-81-xx8cn": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.497086ms
[1mSTEP[0m: Saw pod success
Apr  6 16:14:59.148: INFO: Pod "client-can-connect-81-xx8cn" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-xx8cn
[It] should enforce policy to allow traffic only from a pod in a different namespace based on PodSelector and NamespaceSelector [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:384
Apr  6 16:14:59.345: INFO: Waiting for server to come up.
[1mSTEP[0m: Creating client-a, in server's namespace, which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 16:14:59.370: INFO: Waiting for client-a-b899d to complete.
Apr  6 16:15:03.387: INFO: Waiting for client-a-b899d to complete.
Apr  6 16:15:03.388: INFO: Waiting up to 5m0s for pod "client-a-b899d" in namespace "network-policy-7089" to be "Succeeded or Failed"
Apr  6 16:15:03.394: INFO: Pod "client-a-b899d": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.888139ms
[1mSTEP[0m: Saw pod success
Apr  6 16:15:03.394: INFO: Pod "client-a-b899d" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-b899d
[1mSTEP[0m: Creating client-b, in server's namespace, which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Apr  6 16:15:03.461: INFO: Waiting for client-b-52rn9 to complete.
Apr  6 16:15:07.484: INFO: Waiting for client-b-52rn9 to complete.
Apr  6 16:15:07.485: INFO: Waiting up to 5m0s for pod "client-b-52rn9" in namespace "network-policy-7089" to be "Succeeded or Failed"
Apr  6 16:15:07.490: INFO: Pod "client-b-52rn9": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.105913ms
[1mSTEP[0m: Saw pod success
Apr  6 16:15:07.490: INFO: Pod "client-b-52rn9" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-52rn9
[1mSTEP[0m: Creating client-a, not in server's namespace, which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 16:15:07.549: INFO: Waiting for client-a-8t8b2 to complete.
Apr  6 16:15:11.590: INFO: Waiting for client-a-8t8b2 to complete.
Apr  6 16:15:11.590: INFO: Waiting up to 5m0s for pod "client-a-8t8b2" in namespace "network-policy-b-9771" to be "Succeeded or Failed"
Apr  6 16:15:11.597: INFO: Pod "client-a-8t8b2": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.909278ms
[1mSTEP[0m: Saw pod success
Apr  6 16:15:11.597: INFO: Pod "client-a-8t8b2" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-8t8b2
[1mSTEP[0m: Creating client-b, not in server's namespace, which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Apr  6 16:15:11.635: INFO: Waiting for client-b-c8p6l to complete.
Apr  6 16:15:17.654: INFO: Waiting for client-b-c8p6l to complete.
Apr  6 16:15:17.654: INFO: Waiting up to 5m0s for pod "client-b-c8p6l" in namespace "network-policy-b-9771" to be "Succeeded or Failed"
Apr  6 16:15:17.658: INFO: Pod "client-b-c8p6l": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.392793ms
[1mSTEP[0m: Saw pod success
Apr  6 16:15:17.658: INFO: Pod "client-b-c8p6l" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-c8p6l
[1mSTEP[0m: Creating a network policy for the server which allows traffic only from client-a in namespace-b.
[1mSTEP[0m: Creating client-a, in server's namespace, which should not be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Apr  6 16:15:17.738: INFO: Waiting for client-a-dt7z5 to complete.
Apr  6 16:15:17.739: INFO: Waiting up to 5m0s for pod "client-a-dt7z5" in namespace "network-policy-7089" to be "Succeeded or Failed"
Apr  6 16:15:17.749: INFO: Pod "client-a-dt7z5": Phase="Pending", Reason="", readiness=false. Elapsed: 9.917227ms
Apr  6 16:15:19.755: INFO: Pod "client-a-dt7z5": Phase="Pending", Reason="", readiness=false. Elapsed: 2.016127142s
Apr  6 16:15:21.760: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 4.021630713s
Apr  6 16:15:23.767: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 6.028800646s
Apr  6 16:15:25.776: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 8.037259285s
Apr  6 16:15:27.783: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 10.044581051s
Apr  6 16:15:29.789: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 12.050224708s
Apr  6 16:15:31.796: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 14.057675179s
Apr  6 16:15:33.804: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 16.064994202s
Apr  6 16:15:35.820: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 18.081429048s
Apr  6 16:15:37.832: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 20.093107932s
Apr  6 16:15:39.838: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 22.098987838s
Apr  6 16:15:41.845: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 24.106140578s
Apr  6 16:15:43.850: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 26.111644242s
Apr  6 16:15:45.862: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 28.123455883s
Apr  6 16:15:47.888: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 30.149241564s
Apr  6 16:15:49.894: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 32.155222803s
Apr  6 16:15:51.902: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 34.163656604s
Apr  6 16:15:53.907: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 36.168510581s
Apr  6 16:15:55.924: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 38.184822059s
Apr  6 16:15:57.931: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 40.192467764s
Apr  6 16:15:59.939: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 42.19990766s
Apr  6 16:16:01.947: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 44.208802917s
Apr  6 16:16:03.969: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 46.230691753s
Apr  6 16:16:05.975: INFO: Pod "client-a-dt7z5": Phase="Running", Reason="", readiness=true. Elapsed: 48.236374321s
Apr  6 16:16:07.983: INFO: Pod "client-a-dt7z5": Phase="Failed", Reason="", readiness=false. Elapsed: 50.244228013s
[1mSTEP[0m: Cleaning up the pod client-a-dt7z5
[1mSTEP[0m: Creating client-b, in server's namespace, which should not be able to contact the server.
[1mSTEP[0m: Creating client pod client-b that should not be able to connect to svc-server.
Apr  6 16:16:08.066: INFO: Waiting for client-b-t72fg to complete.
Apr  6 16:16:08.066: INFO: Waiting up to 5m0s for pod "client-b-t72fg" in namespace "network-policy-7089" to be "Succeeded or Failed"
Apr  6 16:16:08.113: INFO: Pod "client-b-t72fg": Phase="Pending", Reason="", readiness=false. Elapsed: 46.650262ms
Apr  6 16:16:10.120: INFO: Pod "client-b-t72fg": Phase="Pending", Reason="", readiness=false. Elapsed: 2.053889336s
Apr  6 16:16:12.128: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 4.061555275s
Apr  6 16:16:14.151: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 6.084304021s
Apr  6 16:16:16.161: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 8.094713436s
Apr  6 16:16:18.169: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 10.102821664s
Apr  6 16:16:20.177: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 12.110530221s
Apr  6 16:16:22.184: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 14.117007241s
Apr  6 16:16:24.208: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 16.141635743s
Apr  6 16:16:26.218: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 18.151537733s
Apr  6 16:16:28.225: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 20.158207333s
Apr  6 16:16:30.233: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 22.166274113s
Apr  6 16:16:32.238: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 24.171910095s
Apr  6 16:16:34.291: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 26.224267678s
Apr  6 16:16:36.299: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 28.232065224s
Apr  6 16:16:38.304: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 30.237920802s
Apr  6 16:16:40.318: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 32.251367196s
Apr  6 16:16:42.325: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 34.258360815s
Apr  6 16:16:44.345: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 36.278754503s
Apr  6 16:16:46.352: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 38.285866066s
Apr  6 16:16:48.361: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 40.294436229s
Apr  6 16:16:50.392: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 42.32589213s
Apr  6 16:16:52.537: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 44.470530765s
Apr  6 16:16:54.581: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 46.514342013s
Apr  6 16:16:56.589: INFO: Pod "client-b-t72fg": Phase="Running", Reason="", readiness=true. Elapsed: 48.52241985s
Apr  6 16:16:58.597: INFO: Pod "client-b-t72fg": Phase="Failed", Reason="", readiness=false. Elapsed: 50.530293018s
[1mSTEP[0m: Cleaning up the pod client-b-t72fg
[1mSTEP[0m: Creating client-a, not in server's namespace, which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 16:16:58.689: INFO: Waiting for client-a-9sph7 to complete.
Apr  6 16:17:02.701: INFO: Waiting for client-a-9sph7 to complete.
Apr  6 16:17:02.701: INFO: Waiting up to 5m0s for pod "client-a-9sph7" in namespace "network-policy-b-9771" to be "Succeeded or Failed"
Apr  6 16:17:02.709: INFO: Pod "client-a-9sph7": Phase="Succeeded", Reason="", readiness=false. Elapsed: 7.770849ms
[1mSTEP[0m: Saw pod success
Apr  6 16:17:02.709: INFO: Pod "client-a-9sph7" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-9sph7
[1mSTEP[0m: Creating client-b, not in server's namespace, which should not be able to contact the server.
[1mSTEP[0m: Creating client pod client-b that should not be able to connect to svc-server.
Apr  6 16:17:02.769: INFO: Waiting for client-b-xw4r9 to complete.
Apr  6 16:17:02.769: INFO: Waiting up to 5m0s for pod "client-b-xw4r9" in namespace "network-policy-b-9771" to be "Succeeded or Failed"
Apr  6 16:17:02.781: INFO: Pod "client-b-xw4r9": Phase="Pending", Reason="", readiness=false. Elapsed: 11.567338ms
Apr  6 16:17:04.793: INFO: Pod "client-b-xw4r9": Phase="Pending", Reason="", readiness=false. Elapsed: 2.023766816s
Apr  6 16:17:06.801: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 4.031092324s
Apr  6 16:17:08.810: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 6.040190034s
Apr  6 16:17:10.821: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 8.051684535s
Apr  6 16:17:12.826: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 10.056759964s
Apr  6 16:17:14.834: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 12.064888708s
Apr  6 16:17:16.840: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 14.070672693s
Apr  6 16:17:18.848: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 16.078179226s
Apr  6 16:17:20.855: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 18.08564743s
Apr  6 16:17:22.860: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 20.090386685s
Apr  6 16:17:24.867: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 22.098000618s
Apr  6 16:17:26.878: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 24.108229447s
Apr  6 16:17:28.888: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 26.11842835s
Apr  6 16:17:30.903: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 28.133574001s
Apr  6 16:17:32.910: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 30.140122676s
Apr  6 16:17:34.920: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 32.150714613s
Apr  6 16:17:36.928: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 34.158515747s
Apr  6 16:17:38.937: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 36.167327354s
Apr  6 16:17:40.942: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 38.172438261s
Apr  6 16:17:42.949: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 40.179150823s
Apr  6 16:17:44.958: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 42.188040218s
Apr  6 16:17:46.963: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 44.193865441s
Apr  6 16:17:48.970: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 46.200804159s
Apr  6 16:17:50.987: INFO: Pod "client-b-xw4r9": Phase="Running", Reason="", readiness=true. Elapsed: 48.217623711s
Apr  6 16:17:52.994: INFO: Pod "client-b-xw4r9": Phase="Failed", Reason="", readiness=false. Elapsed: 50.224753134s
[1mSTEP[0m: Cleaning up the pod client-b-xw4r9
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:17:53.407: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-7089" for this suite.
[1mSTEP[0m: Destroying namespace "network-policy-b-9771" for this suite.

[32m• [SLOW TEST:198.880 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce policy to allow traffic only from a pod in a different namespace based on PodSelector and NamespaceSelector [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:384[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce policy to allow traffic only from a pod in a different namespace based on PodSelector and NamespaceSelector [Feature:NetworkPolicy]","total":26,"completed":15,"skipped":2361,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce multiple, stacked policies with overlapping podSelectors [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:490[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 16:17:53.494: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-5126
Apr  6 16:17:53.686: INFO: Created pod server-jhh9k
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-5126
Apr  6 16:17:53.774: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:17:53.804: INFO: The status of Pod server-jhh9k is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:17:55.818: INFO: The status of Pod server-jhh9k is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:17:57.810: INFO: The status of Pod server-jhh9k is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:17:59.810: INFO: The status of Pod server-jhh9k is Running (Ready = false)
Apr  6 16:18:01.812: INFO: The status of Pod server-jhh9k is Running (Ready = false)
Apr  6 16:18:03.812: INFO: The status of Pod server-jhh9k is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 16:18:03.822: INFO: Waiting for client-can-connect-80-c8jbj to complete.
Apr  6 16:18:07.844: INFO: Waiting for client-can-connect-80-c8jbj to complete.
Apr  6 16:18:07.844: INFO: Waiting up to 5m0s for pod "client-can-connect-80-c8jbj" in namespace "network-policy-5126" to be "Succeeded or Failed"
Apr  6 16:18:07.855: INFO: Pod "client-can-connect-80-c8jbj": Phase="Succeeded", Reason="", readiness=false. Elapsed: 10.490458ms
[1mSTEP[0m: Saw pod success
Apr  6 16:18:07.855: INFO: Pod "client-can-connect-80-c8jbj" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-c8jbj
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:18:07.905: INFO: Waiting for client-can-connect-81-cph9c to complete.
Apr  6 16:18:11.933: INFO: Waiting for client-can-connect-81-cph9c to complete.
Apr  6 16:18:11.933: INFO: Waiting up to 5m0s for pod "client-can-connect-81-cph9c" in namespace "network-policy-5126" to be "Succeeded or Failed"
Apr  6 16:18:11.938: INFO: Pod "client-can-connect-81-cph9c": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.398169ms
[1mSTEP[0m: Saw pod success
Apr  6 16:18:11.938: INFO: Pod "client-can-connect-81-cph9c" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-cph9c
[It] should enforce multiple, stacked policies with overlapping podSelectors [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:490
[1mSTEP[0m: Creating a network policy for the Service which allows traffic only to one port.
[1mSTEP[0m: Creating a network policy for the Service which allows traffic only to another port.
[1mSTEP[0m: Testing pods can connect to both ports when both policies are present.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 16:18:12.083: INFO: Waiting for client-a-w776h to complete.
Apr  6 16:18:16.099: INFO: Waiting for client-a-w776h to complete.
Apr  6 16:18:16.099: INFO: Waiting up to 5m0s for pod "client-a-w776h" in namespace "network-policy-5126" to be "Succeeded or Failed"
Apr  6 16:18:16.105: INFO: Pod "client-a-w776h": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.926923ms
[1mSTEP[0m: Saw pod success
Apr  6 16:18:16.105: INFO: Pod "client-a-w776h" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-w776h
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Apr  6 16:18:16.162: INFO: Waiting for client-b-m6wcb to complete.
Apr  6 16:18:20.191: INFO: Waiting for client-b-m6wcb to complete.
Apr  6 16:18:20.191: INFO: Waiting up to 5m0s for pod "client-b-m6wcb" in namespace "network-policy-5126" to be "Succeeded or Failed"
Apr  6 16:18:20.202: INFO: Pod "client-b-m6wcb": Phase="Succeeded", Reason="", readiness=false. Elapsed: 10.665044ms
[1mSTEP[0m: Saw pod success
Apr  6 16:18:20.202: INFO: Pod "client-b-m6wcb" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-m6wcb
[1mSTEP[0m: Cleaning up the policy.
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:18:20.647: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-5126" for this suite.

[32m• [SLOW TEST:27.187 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce multiple, stacked policies with overlapping podSelectors [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:490[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce multiple, stacked policies with overlapping podSelectors [Feature:NetworkPolicy]","total":26,"completed":16,"skipped":2388,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould stop enforcing policies after they are deleted [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1157[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 16:18:20.762: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-8445
Apr  6 16:18:20.911: INFO: Created pod server-wqcgs
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-8445
Apr  6 16:18:20.995: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:18:21.003: INFO: The status of Pod server-wqcgs is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:18:23.011: INFO: The status of Pod server-wqcgs is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:18:25.016: INFO: The status of Pod server-wqcgs is Running (Ready = false)
Apr  6 16:18:27.011: INFO: The status of Pod server-wqcgs is Running (Ready = false)
Apr  6 16:18:29.018: INFO: The status of Pod server-wqcgs is Running (Ready = false)
Apr  6 16:18:31.010: INFO: The status of Pod server-wqcgs is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 16:18:31.026: INFO: Waiting for client-can-connect-80-mhqv9 to complete.
Apr  6 16:18:35.053: INFO: Waiting for client-can-connect-80-mhqv9 to complete.
Apr  6 16:18:35.053: INFO: Waiting up to 5m0s for pod "client-can-connect-80-mhqv9" in namespace "network-policy-8445" to be "Succeeded or Failed"
Apr  6 16:18:35.061: INFO: Pod "client-can-connect-80-mhqv9": Phase="Succeeded", Reason="", readiness=false. Elapsed: 7.60241ms
[1mSTEP[0m: Saw pod success
Apr  6 16:18:35.063: INFO: Pod "client-can-connect-80-mhqv9" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-mhqv9
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:18:35.128: INFO: Waiting for client-can-connect-81-zswmq to complete.
Apr  6 16:18:39.142: INFO: Waiting for client-can-connect-81-zswmq to complete.
Apr  6 16:18:39.143: INFO: Waiting up to 5m0s for pod "client-can-connect-81-zswmq" in namespace "network-policy-8445" to be "Succeeded or Failed"
Apr  6 16:18:39.148: INFO: Pod "client-can-connect-81-zswmq": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.483613ms
[1mSTEP[0m: Saw pod success
Apr  6 16:18:39.148: INFO: Pod "client-can-connect-81-zswmq" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-zswmq
[It] should stop enforcing policies after they are deleted [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1157
[1mSTEP[0m: Creating a network policy for the server which denies all traffic.
[1mSTEP[0m: Creating client-a which should not be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Apr  6 16:18:39.218: INFO: Waiting for client-a-wgnfz to complete.
Apr  6 16:18:39.218: INFO: Waiting up to 5m0s for pod "client-a-wgnfz" in namespace "network-policy-8445" to be "Succeeded or Failed"
Apr  6 16:18:39.245: INFO: Pod "client-a-wgnfz": Phase="Pending", Reason="", readiness=false. Elapsed: 26.753929ms
Apr  6 16:18:41.250: INFO: Pod "client-a-wgnfz": Phase="Pending", Reason="", readiness=false. Elapsed: 2.031898397s
Apr  6 16:18:43.256: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 4.037639383s
Apr  6 16:18:45.297: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 6.078818344s
Apr  6 16:18:47.305: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 8.086703639s
Apr  6 16:18:49.311: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 10.092860492s
Apr  6 16:18:51.318: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 12.099199905s
Apr  6 16:18:53.331: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 14.112407141s
Apr  6 16:18:55.347: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 16.128447418s
Apr  6 16:18:57.354: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 18.135743563s
Apr  6 16:18:59.358: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 20.140006554s
Apr  6 16:19:01.364: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 22.145488264s
Apr  6 16:19:03.369: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 24.150249119s
Apr  6 16:19:05.379: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 26.160305896s
Apr  6 16:19:07.384: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 28.165594848s
Apr  6 16:19:09.396: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 30.177141901s
Apr  6 16:19:11.402: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 32.184079562s
Apr  6 16:19:13.407: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 34.188972797s
Apr  6 16:19:15.414: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 36.195524846s
Apr  6 16:19:17.421: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 38.202333097s
Apr  6 16:19:19.428: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 40.209205636s
Apr  6 16:19:21.433: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 42.214166527s
Apr  6 16:19:23.439: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 44.220134201s
Apr  6 16:19:25.445: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 46.22708663s
Apr  6 16:19:27.451: INFO: Pod "client-a-wgnfz": Phase="Running", Reason="", readiness=true. Elapsed: 48.232636115s
Apr  6 16:19:29.457: INFO: Pod "client-a-wgnfz": Phase="Failed", Reason="", readiness=false. Elapsed: 50.238933217s
[1mSTEP[0m: Cleaning up the pod client-a-wgnfz
[1mSTEP[0m: Creating a network policy for the server which allows traffic only from client-a.
[1mSTEP[0m: Creating client-a which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 16:19:29.590: INFO: Waiting for client-a-zcd27 to complete.
Apr  6 16:19:33.632: INFO: Waiting for client-a-zcd27 to complete.
Apr  6 16:19:33.632: INFO: Waiting up to 5m0s for pod "client-a-zcd27" in namespace "network-policy-8445" to be "Succeeded or Failed"
Apr  6 16:19:33.637: INFO: Pod "client-a-zcd27": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.643604ms
[1mSTEP[0m: Saw pod success
Apr  6 16:19:33.638: INFO: Pod "client-a-zcd27" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-zcd27
[1mSTEP[0m: Deleting the network policy allowing traffic from client-a
[1mSTEP[0m: Cleaning up the policy.
[1mSTEP[0m: Creating client-a which should not be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Apr  6 16:19:33.771: INFO: Waiting for client-a-4wqn4 to complete.
Apr  6 16:19:33.771: INFO: Waiting up to 5m0s for pod "client-a-4wqn4" in namespace "network-policy-8445" to be "Succeeded or Failed"
Apr  6 16:19:33.788: INFO: Pod "client-a-4wqn4": Phase="Pending", Reason="", readiness=false. Elapsed: 16.987116ms
Apr  6 16:19:35.800: INFO: Pod "client-a-4wqn4": Phase="Pending", Reason="", readiness=false. Elapsed: 2.028846034s
Apr  6 16:19:37.807: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 4.03609964s
Apr  6 16:19:39.812: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 6.040879901s
Apr  6 16:19:41.817: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 8.045640729s
Apr  6 16:19:43.821: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 10.05020103s
Apr  6 16:19:45.833: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 12.061588447s
Apr  6 16:19:47.842: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 14.070456737s
Apr  6 16:19:49.851: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 16.079987976s
Apr  6 16:19:51.857: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 18.085633183s
Apr  6 16:19:53.861: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 20.09008793s
Apr  6 16:19:55.874: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 22.102908131s
Apr  6 16:19:57.882: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 24.110600026s
Apr  6 16:19:59.888: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 26.116938975s
Apr  6 16:20:01.894: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 28.12252934s
Apr  6 16:20:03.902: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 30.130459661s
Apr  6 16:20:05.913: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 32.14225311s
Apr  6 16:20:07.919: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 34.14838635s
Apr  6 16:20:09.929: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 36.157826196s
Apr  6 16:20:11.936: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 38.165082169s
Apr  6 16:20:13.941: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 40.170387002s
Apr  6 16:20:15.954: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 42.183230426s
Apr  6 16:20:17.961: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 44.189687266s
Apr  6 16:20:19.968: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 46.196631936s
Apr  6 16:20:21.976: INFO: Pod "client-a-4wqn4": Phase="Running", Reason="", readiness=true. Elapsed: 48.204898607s
Apr  6 16:20:23.984: INFO: Pod "client-a-4wqn4": Phase="Failed", Reason="", readiness=false. Elapsed: 50.212506079s
[1mSTEP[0m: Cleaning up the pod client-a-4wqn4
[1mSTEP[0m: Deleting the network policy denying all traffic.
[1mSTEP[0m: Cleaning up the policy.
[1mSTEP[0m: Creating client-a which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 16:20:24.116: INFO: Waiting for client-a-mtcg9 to complete.
Apr  6 16:20:28.217: INFO: Waiting for client-a-mtcg9 to complete.
Apr  6 16:20:28.218: INFO: Waiting up to 5m0s for pod "client-a-mtcg9" in namespace "network-policy-8445" to be "Succeeded or Failed"
Apr  6 16:20:28.226: INFO: Pod "client-a-mtcg9": Phase="Succeeded", Reason="", readiness=false. Elapsed: 8.778095ms
[1mSTEP[0m: Saw pod success
Apr  6 16:20:28.227: INFO: Pod "client-a-mtcg9" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-mtcg9
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:20:28.483: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-8445" for this suite.

[32m• [SLOW TEST:127.759 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should stop enforcing policies after they are deleted [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1157[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should stop enforcing policies after they are deleted [Feature:NetworkPolicy]","total":26,"completed":17,"skipped":2793,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce policy to allow traffic only from a different namespace, based on NamespaceSelector [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:159[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 16:20:28.556: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-8080
Apr  6 16:20:28.836: INFO: Created pod server-gswfz
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-8080
Apr  6 16:20:28.907: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:20:28.955: INFO: The status of Pod server-gswfz is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:20:30.963: INFO: The status of Pod server-gswfz is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:20:32.986: INFO: The status of Pod server-gswfz is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:20:34.967: INFO: The status of Pod server-gswfz is Running (Ready = false)
Apr  6 16:20:36.959: INFO: The status of Pod server-gswfz is Running (Ready = false)
Apr  6 16:20:38.962: INFO: The status of Pod server-gswfz is Running (Ready = false)
Apr  6 16:20:40.961: INFO: The status of Pod server-gswfz is Running (Ready = false)
Apr  6 16:20:42.979: INFO: The status of Pod server-gswfz is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 16:20:43.004: INFO: Waiting for client-can-connect-80-kchqb to complete.
Apr  6 16:20:47.029: INFO: Waiting for client-can-connect-80-kchqb to complete.
Apr  6 16:20:47.030: INFO: Waiting up to 5m0s for pod "client-can-connect-80-kchqb" in namespace "network-policy-8080" to be "Succeeded or Failed"
Apr  6 16:20:47.035: INFO: Pod "client-can-connect-80-kchqb": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.799225ms
[1mSTEP[0m: Saw pod success
Apr  6 16:20:47.035: INFO: Pod "client-can-connect-80-kchqb" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-kchqb
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:20:47.085: INFO: Waiting for client-can-connect-81-k7srr to complete.
Apr  6 16:20:51.109: INFO: Waiting for client-can-connect-81-k7srr to complete.
Apr  6 16:20:51.109: INFO: Waiting up to 5m0s for pod "client-can-connect-81-k7srr" in namespace "network-policy-8080" to be "Succeeded or Failed"
Apr  6 16:20:51.113: INFO: Pod "client-can-connect-81-k7srr": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.159383ms
[1mSTEP[0m: Saw pod success
Apr  6 16:20:51.113: INFO: Pod "client-can-connect-81-k7srr" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-k7srr
[It] should enforce policy to allow traffic only from a different namespace, based on NamespaceSelector [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:159
Apr  6 16:20:51.205: INFO: Waiting for server to come up.
[1mSTEP[0m: Creating a network policy for the server which allows traffic from namespace-b.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Apr  6 16:20:51.245: INFO: Waiting for client-a-bnd48 to complete.
Apr  6 16:20:51.245: INFO: Waiting up to 5m0s for pod "client-a-bnd48" in namespace "network-policy-8080" to be "Succeeded or Failed"
Apr  6 16:20:51.307: INFO: Pod "client-a-bnd48": Phase="Pending", Reason="", readiness=false. Elapsed: 62.251205ms
Apr  6 16:20:53.314: INFO: Pod "client-a-bnd48": Phase="Pending", Reason="", readiness=false. Elapsed: 2.069350703s
Apr  6 16:20:55.334: INFO: Pod "client-a-bnd48": Phase="Running", Reason="", readiness=true. Elapsed: 4.088999495s
Apr  6 16:20:57.348: INFO: Pod "client-a-bnd48": Phase="Running", Reason="", readiness=true. Elapsed: 6.103450498s
Apr  6 16:20:59.355: INFO: Pod "client-a-bnd48": Phase="Running", Reason="", readiness=true. Elapsed: 8.109935679s
Apr  6 16:21:01.362: INFO: Pod "client-a-bnd48": Phase="Running", Reason="", readiness=true. Elapsed: 10.116516618s
Apr  6 16:21:03.367: INFO: Pod "client-a-bnd48": Phase="Running", Reason="", readiness=true. Elapsed: 12.121785172s
Apr  6 16:21:05.381: INFO: Pod "client-a-bnd48": Phase="Running", Reason="", readiness=true. Elapsed: 14.136410305s
Apr  6 16:21:07.400: INFO: Pod "client-a-bnd48": Phase="Running", Reason="", readiness=true. Elapsed: 16.155000952s
Apr  6 16:21:09.407: INFO: Pod "client-a-bnd48": Phase="Running", Reason="", readiness=true. Elapsed: 18.162209656s
Apr  6 16:21:11.413: INFO: Pod "client-a-bnd48": Phase="Running", Reason="", readiness=true. Elapsed: 20.167516737s
Apr  6 16:21:13.419: INFO: Pod "client-a-bnd48": Phase="Running", Reason="", readiness=true. Elapsed: 22.173658622s
Apr  6 16:21:15.435: INFO: Pod "client-a-bnd48": Phase="Running", Reason="", readiness=true. Elapsed: 24.189599792s
Apr  6 16:21:17.441: INFO: Pod "client-a-bnd48": Phase="Running", Reason="", readiness=true. Elapsed: 26.195844657s
Apr  6 16:21:19.447: INFO: Pod "client-a-bnd48": Phase="Running", Reason="", readiness=true. Elapsed: 28.201669596s
Apr  6 16:21:21.452: INFO: Pod "client-a-bnd48": Phase="Running", Reason="", readiness=true. Elapsed: 30.207101517s
Apr  6 16:21:23.458: INFO: Pod "client-a-bnd48": Phase="Running", Reason="", readiness=true. Elapsed: 32.213392607s
Apr  6 16:21:25.465: INFO: Pod "client-a-bnd48": Phase="Running", Reason="", readiness=true. Elapsed: 34.220106017s
Apr  6 16:21:27.471: INFO: Pod "client-a-bnd48": Phase="Running", Reason="", readiness=true. Elapsed: 36.226000953s
Apr  6 16:21:29.477: INFO: Pod "client-a-bnd48": Phase="Running", Reason="", readiness=true. Elapsed: 38.231678129s
Apr  6 16:21:31.483: INFO: Pod "client-a-bnd48": Phase="Running", Reason="", readiness=true. Elapsed: 40.237679176s
Apr  6 16:21:33.488: INFO: Pod "client-a-bnd48": Phase="Running", Reason="", readiness=true. Elapsed: 42.242807783s
Apr  6 16:21:35.496: INFO: Pod "client-a-bnd48": Phase="Running", Reason="", readiness=true. Elapsed: 44.251344531s
Apr  6 16:21:37.504: INFO: Pod "client-a-bnd48": Phase="Running", Reason="", readiness=true. Elapsed: 46.25853162s
Apr  6 16:21:39.510: INFO: Pod "client-a-bnd48": Phase="Failed", Reason="", readiness=false. Elapsed: 48.265130717s
[1mSTEP[0m: Cleaning up the pod client-a-bnd48
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Apr  6 16:21:39.580: INFO: Waiting for client-b-l4xv6 to complete.
Apr  6 16:21:43.596: INFO: Waiting for client-b-l4xv6 to complete.
Apr  6 16:21:43.597: INFO: Waiting up to 5m0s for pod "client-b-l4xv6" in namespace "network-policy-b-7995" to be "Succeeded or Failed"
Apr  6 16:21:43.603: INFO: Pod "client-b-l4xv6": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.834947ms
[1mSTEP[0m: Saw pod success
Apr  6 16:21:43.604: INFO: Pod "client-b-l4xv6" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-l4xv6
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:21:43.816: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-8080" for this suite.
[1mSTEP[0m: Destroying namespace "network-policy-b-7995" for this suite.

[32m• [SLOW TEST:75.334 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce policy to allow traffic only from a different namespace, based on NamespaceSelector [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:159[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce policy to allow traffic only from a different namespace, based on NamespaceSelector [Feature:NetworkPolicy]","total":26,"completed":18,"skipped":2802,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould ensure an IP overlapping both IPBlock.CIDR and IPBlock.Except is allowed [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1373[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 16:21:44.004: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-1619
Apr  6 16:21:44.137: INFO: Created pod server-28xvv
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-1619
Apr  6 16:21:44.229: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:21:44.241: INFO: The status of Pod server-28xvv is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:21:46.248: INFO: The status of Pod server-28xvv is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:21:48.247: INFO: The status of Pod server-28xvv is Running (Ready = false)
Apr  6 16:21:50.251: INFO: The status of Pod server-28xvv is Running (Ready = false)
Apr  6 16:21:52.247: INFO: The status of Pod server-28xvv is Running (Ready = false)
Apr  6 16:21:54.265: INFO: The status of Pod server-28xvv is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 16:21:54.319: INFO: Waiting for client-can-connect-80-rb87g to complete.
Apr  6 16:21:58.353: INFO: Waiting for client-can-connect-80-rb87g to complete.
Apr  6 16:21:58.354: INFO: Waiting up to 5m0s for pod "client-can-connect-80-rb87g" in namespace "network-policy-1619" to be "Succeeded or Failed"
Apr  6 16:21:58.360: INFO: Pod "client-can-connect-80-rb87g": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.365991ms
[1mSTEP[0m: Saw pod success
Apr  6 16:21:58.360: INFO: Pod "client-can-connect-80-rb87g" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-rb87g
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:21:58.430: INFO: Waiting for client-can-connect-81-skrt2 to complete.
Apr  6 16:22:02.448: INFO: Waiting for client-can-connect-81-skrt2 to complete.
Apr  6 16:22:02.448: INFO: Waiting up to 5m0s for pod "client-can-connect-81-skrt2" in namespace "network-policy-1619" to be "Succeeded or Failed"
Apr  6 16:22:02.453: INFO: Pod "client-can-connect-81-skrt2": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.606163ms
[1mSTEP[0m: Saw pod success
Apr  6 16:22:02.453: INFO: Pod "client-can-connect-81-skrt2" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-skrt2
[It] should ensure an IP overlapping both IPBlock.CIDR and IPBlock.Except is allowed [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1373
[1mSTEP[0m: Creating client-a which should not be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Apr  6 16:22:02.543: INFO: Waiting for client-a-92h5p to complete.
Apr  6 16:22:02.543: INFO: Waiting up to 5m0s for pod "client-a-92h5p" in namespace "network-policy-1619" to be "Succeeded or Failed"
Apr  6 16:22:02.559: INFO: Pod "client-a-92h5p": Phase="Pending", Reason="", readiness=false. Elapsed: 15.328376ms
Apr  6 16:22:04.567: INFO: Pod "client-a-92h5p": Phase="Pending", Reason="", readiness=false. Elapsed: 2.023307778s
Apr  6 16:22:06.576: INFO: Pod "client-a-92h5p": Phase="Running", Reason="", readiness=true. Elapsed: 4.032191638s
Apr  6 16:22:08.584: INFO: Pod "client-a-92h5p": Phase="Running", Reason="", readiness=true. Elapsed: 6.040881801s
Apr  6 16:22:10.591: INFO: Pod "client-a-92h5p": Phase="Running", Reason="", readiness=true. Elapsed: 8.047453411s
Apr  6 16:22:12.598: INFO: Pod "client-a-92h5p": Phase="Running", Reason="", readiness=true. Elapsed: 10.054553647s
Apr  6 16:22:14.615: INFO: Pod "client-a-92h5p": Phase="Running", Reason="", readiness=true. Elapsed: 12.071043599s
Apr  6 16:22:16.621: INFO: Pod "client-a-92h5p": Phase="Running", Reason="", readiness=true. Elapsed: 14.077453434s
Apr  6 16:22:18.628: INFO: Pod "client-a-92h5p": Phase="Running", Reason="", readiness=true. Elapsed: 16.084959513s
Apr  6 16:22:20.634: INFO: Pod "client-a-92h5p": Phase="Running", Reason="", readiness=true. Elapsed: 18.090054251s
Apr  6 16:22:22.639: INFO: Pod "client-a-92h5p": Phase="Running", Reason="", readiness=true. Elapsed: 20.095809757s
Apr  6 16:22:24.662: INFO: Pod "client-a-92h5p": Phase="Running", Reason="", readiness=true. Elapsed: 22.118926034s
Apr  6 16:22:26.670: INFO: Pod "client-a-92h5p": Phase="Running", Reason="", readiness=true. Elapsed: 24.126150856s
Apr  6 16:22:28.676: INFO: Pod "client-a-92h5p": Phase="Running", Reason="", readiness=true. Elapsed: 26.132433014s
Apr  6 16:22:30.683: INFO: Pod "client-a-92h5p": Phase="Running", Reason="", readiness=true. Elapsed: 28.139332171s
Apr  6 16:22:32.689: INFO: Pod "client-a-92h5p": Phase="Running", Reason="", readiness=true. Elapsed: 30.145588133s
Apr  6 16:22:34.745: INFO: Pod "client-a-92h5p": Phase="Running", Reason="", readiness=true. Elapsed: 32.201850169s
Apr  6 16:22:36.756: INFO: Pod "client-a-92h5p": Phase="Running", Reason="", readiness=true. Elapsed: 34.212770645s
Apr  6 16:22:38.762: INFO: Pod "client-a-92h5p": Phase="Running", Reason="", readiness=true. Elapsed: 36.218858835s
Apr  6 16:22:40.769: INFO: Pod "client-a-92h5p": Phase="Running", Reason="", readiness=true. Elapsed: 38.225493442s
Apr  6 16:22:42.775: INFO: Pod "client-a-92h5p": Phase="Running", Reason="", readiness=true. Elapsed: 40.231570601s
Apr  6 16:22:44.791: INFO: Pod "client-a-92h5p": Phase="Running", Reason="", readiness=true. Elapsed: 42.247472422s
Apr  6 16:22:46.797: INFO: Pod "client-a-92h5p": Phase="Running", Reason="", readiness=true. Elapsed: 44.253682117s
Apr  6 16:22:48.803: INFO: Pod "client-a-92h5p": Phase="Running", Reason="", readiness=true. Elapsed: 46.259805055s
Apr  6 16:22:50.809: INFO: Pod "client-a-92h5p": Phase="Failed", Reason="", readiness=false. Elapsed: 48.265236394s
[1mSTEP[0m: Cleaning up the pod client-a-92h5p
[1mSTEP[0m: Creating client-a which should now be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 16:22:50.916: INFO: Waiting for client-a-xsbwn to complete.
Apr  6 16:22:55.380: INFO: Waiting for client-a-xsbwn to complete.
Apr  6 16:22:55.385: INFO: Waiting up to 5m0s for pod "client-a-xsbwn" in namespace "network-policy-1619" to be "Succeeded or Failed"
Apr  6 16:22:55.416: INFO: Pod "client-a-xsbwn": Phase="Succeeded", Reason="", readiness=false. Elapsed: 30.257491ms
[1mSTEP[0m: Saw pod success
Apr  6 16:22:55.416: INFO: Pod "client-a-xsbwn" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-xsbwn
[1mSTEP[0m: Deleting the network policy with except podServer IP which disallows access to podServer.
[1mSTEP[0m: Cleaning up the policy.
[1mSTEP[0m: Creating client-a which should still be able to contact the server after deleting the network policy with except clause.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 16:22:56.049: INFO: Waiting for client-a-nllcv to complete.
Apr  6 16:23:00.071: INFO: Waiting for client-a-nllcv to complete.
Apr  6 16:23:00.072: INFO: Waiting up to 5m0s for pod "client-a-nllcv" in namespace "network-policy-1619" to be "Succeeded or Failed"
Apr  6 16:23:00.079: INFO: Pod "client-a-nllcv": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.814615ms
[1mSTEP[0m: Saw pod success
Apr  6 16:23:00.080: INFO: Pod "client-a-nllcv" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-nllcv
[1mSTEP[0m: Creating client-a which should still be able to contact the server after recreating the network policy with except clause.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 16:23:00.185: INFO: Waiting for client-a-jctnq to complete.
Apr  6 16:23:04.222: INFO: Waiting for client-a-jctnq to complete.
Apr  6 16:23:04.223: INFO: Waiting up to 5m0s for pod "client-a-jctnq" in namespace "network-policy-1619" to be "Succeeded or Failed"
Apr  6 16:23:04.228: INFO: Pod "client-a-jctnq": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.295195ms
[1mSTEP[0m: Saw pod success
Apr  6 16:23:04.228: INFO: Pod "client-a-jctnq" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-jctnq
[1mSTEP[0m: Cleaning up the policy.
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:23:04.549: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-1619" for this suite.

[32m• [SLOW TEST:80.605 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should ensure an IP overlapping both IPBlock.CIDR and IPBlock.Except is allowed [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1373[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should ensure an IP overlapping both IPBlock.CIDR and IPBlock.Except is allowed [Feature:NetworkPolicy]","total":26,"completed":19,"skipped":3153,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould allow ingress access on one named port [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:567[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 16:23:04.924: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-3985
Apr  6 16:23:05.229: INFO: Created pod server-ddq57
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-3985
Apr  6 16:23:05.301: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:23:05.348: INFO: The status of Pod server-ddq57 is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:23:07.367: INFO: The status of Pod server-ddq57 is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:23:09.355: INFO: The status of Pod server-ddq57 is Running (Ready = false)
Apr  6 16:23:11.355: INFO: The status of Pod server-ddq57 is Running (Ready = false)
Apr  6 16:23:13.354: INFO: The status of Pod server-ddq57 is Running (Ready = false)
Apr  6 16:23:15.358: INFO: The status of Pod server-ddq57 is Running (Ready = false)
Apr  6 16:23:17.359: INFO: The status of Pod server-ddq57 is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 16:23:17.382: INFO: Waiting for client-can-connect-80-5dprx to complete.
Apr  6 16:23:21.395: INFO: Waiting for client-can-connect-80-5dprx to complete.
Apr  6 16:23:21.395: INFO: Waiting up to 5m0s for pod "client-can-connect-80-5dprx" in namespace "network-policy-3985" to be "Succeeded or Failed"
Apr  6 16:23:21.398: INFO: Pod "client-can-connect-80-5dprx": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.292002ms
[1mSTEP[0m: Saw pod success
Apr  6 16:23:21.398: INFO: Pod "client-can-connect-80-5dprx" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-5dprx
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:23:21.452: INFO: Waiting for client-can-connect-81-4rl7x to complete.
Apr  6 16:23:25.483: INFO: Waiting for client-can-connect-81-4rl7x to complete.
Apr  6 16:23:25.483: INFO: Waiting up to 5m0s for pod "client-can-connect-81-4rl7x" in namespace "network-policy-3985" to be "Succeeded or Failed"
Apr  6 16:23:25.489: INFO: Pod "client-can-connect-81-4rl7x": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.732657ms
[1mSTEP[0m: Saw pod success
Apr  6 16:23:25.489: INFO: Pod "client-can-connect-81-4rl7x" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-4rl7x
[It] should allow ingress access on one named port [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:567
[1mSTEP[0m: Creating client-a which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 16:23:25.540: INFO: Waiting for client-a-btcq8 to complete.
Apr  6 16:23:29.581: INFO: Waiting for client-a-btcq8 to complete.
Apr  6 16:23:29.581: INFO: Waiting up to 5m0s for pod "client-a-btcq8" in namespace "network-policy-3985" to be "Succeeded or Failed"
Apr  6 16:23:29.586: INFO: Pod "client-a-btcq8": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.670326ms
[1mSTEP[0m: Saw pod success
Apr  6 16:23:29.586: INFO: Pod "client-a-btcq8" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-btcq8
[1mSTEP[0m: Creating client-b which should not be able to contact the server on port 81.
[1mSTEP[0m: Creating client pod client-b that should not be able to connect to svc-server.
Apr  6 16:23:29.640: INFO: Waiting for client-b-mg5w8 to complete.
Apr  6 16:23:29.640: INFO: Waiting up to 5m0s for pod "client-b-mg5w8" in namespace "network-policy-3985" to be "Succeeded or Failed"
Apr  6 16:23:29.673: INFO: Pod "client-b-mg5w8": Phase="Pending", Reason="", readiness=false. Elapsed: 32.693483ms
Apr  6 16:23:31.679: INFO: Pod "client-b-mg5w8": Phase="Pending", Reason="", readiness=false. Elapsed: 2.03888989s
Apr  6 16:23:33.686: INFO: Pod "client-b-mg5w8": Phase="Running", Reason="", readiness=true. Elapsed: 4.045950798s
Apr  6 16:23:35.698: INFO: Pod "client-b-mg5w8": Phase="Running", Reason="", readiness=true. Elapsed: 6.058063151s
Apr  6 16:23:37.704: INFO: Pod "client-b-mg5w8": Phase="Running", Reason="", readiness=true. Elapsed: 8.063422747s
Apr  6 16:23:39.711: INFO: Pod "client-b-mg5w8": Phase="Running", Reason="", readiness=true. Elapsed: 10.070687433s
Apr  6 16:23:41.717: INFO: Pod "client-b-mg5w8": Phase="Running", Reason="", readiness=true. Elapsed: 12.076353678s
Apr  6 16:23:43.723: INFO: Pod "client-b-mg5w8": Phase="Running", Reason="", readiness=true. Elapsed: 14.082387326s
Apr  6 16:23:45.735: INFO: Pod "client-b-mg5w8": Phase="Running", Reason="", readiness=true. Elapsed: 16.09435332s
Apr  6 16:23:47.743: INFO: Pod "client-b-mg5w8": Phase="Running", Reason="", readiness=true. Elapsed: 18.10267801s
Apr  6 16:23:49.748: INFO: Pod "client-b-mg5w8": Phase="Running", Reason="", readiness=true. Elapsed: 20.10787464s
Apr  6 16:23:51.755: INFO: Pod "client-b-mg5w8": Phase="Running", Reason="", readiness=true. Elapsed: 22.11468093s
Apr  6 16:23:53.762: INFO: Pod "client-b-mg5w8": Phase="Running", Reason="", readiness=true. Elapsed: 24.121781716s
Apr  6 16:23:55.773: INFO: Pod "client-b-mg5w8": Phase="Running", Reason="", readiness=true. Elapsed: 26.133047031s
Apr  6 16:23:57.781: INFO: Pod "client-b-mg5w8": Phase="Running", Reason="", readiness=true. Elapsed: 28.140399854s
Apr  6 16:23:59.787: INFO: Pod "client-b-mg5w8": Phase="Running", Reason="", readiness=true. Elapsed: 30.146335902s
Apr  6 16:24:01.814: INFO: Pod "client-b-mg5w8": Phase="Running", Reason="", readiness=true. Elapsed: 32.173365626s
Apr  6 16:24:03.820: INFO: Pod "client-b-mg5w8": Phase="Running", Reason="", readiness=true. Elapsed: 34.179501748s
Apr  6 16:24:05.834: INFO: Pod "client-b-mg5w8": Phase="Running", Reason="", readiness=true. Elapsed: 36.194311674s
Apr  6 16:24:07.846: INFO: Pod "client-b-mg5w8": Phase="Running", Reason="", readiness=true. Elapsed: 38.206216632s
Apr  6 16:24:09.859: INFO: Pod "client-b-mg5w8": Phase="Running", Reason="", readiness=true. Elapsed: 40.218629866s
Apr  6 16:24:11.867: INFO: Pod "client-b-mg5w8": Phase="Running", Reason="", readiness=true. Elapsed: 42.226441481s
Apr  6 16:24:13.876: INFO: Pod "client-b-mg5w8": Phase="Running", Reason="", readiness=true. Elapsed: 44.236241978s
Apr  6 16:24:15.888: INFO: Pod "client-b-mg5w8": Phase="Running", Reason="", readiness=true. Elapsed: 46.248193285s
Apr  6 16:24:17.896: INFO: Pod "client-b-mg5w8": Phase="Failed", Reason="", readiness=false. Elapsed: 48.255580634s
[1mSTEP[0m: Cleaning up the pod client-b-mg5w8
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:24:18.258: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-3985" for this suite.

[32m• [SLOW TEST:73.411 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should allow ingress access on one named port [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:567[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should allow ingress access on one named port [Feature:NetworkPolicy]","total":26,"completed":20,"skipped":3815,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould allow ingress access from updated pod [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:825[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 16:24:18.473: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-6998
Apr  6 16:24:18.665: INFO: Created pod server-2kfdx
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-6998
Apr  6 16:24:18.738: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:24:18.766: INFO: The status of Pod server-2kfdx is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:24:20.838: INFO: The status of Pod server-2kfdx is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:24:22.772: INFO: The status of Pod server-2kfdx is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:24:24.778: INFO: The status of Pod server-2kfdx is Running (Ready = false)
Apr  6 16:24:26.772: INFO: The status of Pod server-2kfdx is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 16:24:26.788: INFO: Waiting for client-can-connect-80-tvmlr to complete.
Apr  6 16:24:30.850: INFO: Waiting for client-can-connect-80-tvmlr to complete.
Apr  6 16:24:30.850: INFO: Waiting up to 5m0s for pod "client-can-connect-80-tvmlr" in namespace "network-policy-6998" to be "Succeeded or Failed"
Apr  6 16:24:30.857: INFO: Pod "client-can-connect-80-tvmlr": Phase="Succeeded", Reason="", readiness=false. Elapsed: 7.087419ms
[1mSTEP[0m: Saw pod success
Apr  6 16:24:30.857: INFO: Pod "client-can-connect-80-tvmlr" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-tvmlr
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:24:30.900: INFO: Waiting for client-can-connect-81-ntqwd to complete.
Apr  6 16:24:34.921: INFO: Waiting for client-can-connect-81-ntqwd to complete.
Apr  6 16:24:34.922: INFO: Waiting up to 5m0s for pod "client-can-connect-81-ntqwd" in namespace "network-policy-6998" to be "Succeeded or Failed"
Apr  6 16:24:34.928: INFO: Pod "client-can-connect-81-ntqwd": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.565777ms
[1mSTEP[0m: Saw pod success
Apr  6 16:24:34.928: INFO: Pod "client-can-connect-81-ntqwd" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-ntqwd
[It] should allow ingress access from updated pod [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:825
[1mSTEP[0m: Creating a network policy for the server which allows traffic from client-a-updated.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Apr  6 16:24:35.015: INFO: Waiting up to 5m0s for pod "client-a-9ffxm" in namespace "network-policy-6998" to be "terminated"
Apr  6 16:24:35.023: INFO: Pod "client-a-9ffxm": Phase="Pending", Reason="", readiness=false. Elapsed: 8.02963ms
Apr  6 16:24:37.029: INFO: Pod "client-a-9ffxm": Phase="Pending", Reason="", readiness=false. Elapsed: 2.013898082s
Apr  6 16:24:39.037: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=true. Elapsed: 4.021688865s
Apr  6 16:24:41.045: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=true. Elapsed: 6.029857262s
Apr  6 16:24:43.051: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=true. Elapsed: 8.036335321s
Apr  6 16:24:45.064: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=true. Elapsed: 10.04840676s
Apr  6 16:24:47.070: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=true. Elapsed: 12.055131429s
Apr  6 16:24:49.076: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=true. Elapsed: 14.061225997s
Apr  6 16:24:51.082: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=true. Elapsed: 16.066873017s
Apr  6 16:24:53.087: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=true. Elapsed: 18.071576293s
Apr  6 16:24:55.094: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=true. Elapsed: 20.078793316s
Apr  6 16:24:57.103: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=true. Elapsed: 22.087930178s
Apr  6 16:24:59.109: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=true. Elapsed: 24.093579141s
Apr  6 16:25:01.117: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=true. Elapsed: 26.10212221s
Apr  6 16:25:03.127: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=true. Elapsed: 28.111760674s
Apr  6 16:25:05.135: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=true. Elapsed: 30.119965952s
Apr  6 16:25:07.557: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=true. Elapsed: 32.542217267s
Apr  6 16:25:09.581: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=true. Elapsed: 34.565462674s
Apr  6 16:25:11.588: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=true. Elapsed: 36.572469605s
Apr  6 16:25:13.596: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=true. Elapsed: 38.580613801s
Apr  6 16:25:15.603: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=true. Elapsed: 40.588087778s
Apr  6 16:25:17.610: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=true. Elapsed: 42.594497142s
Apr  6 16:25:19.616: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=true. Elapsed: 44.601230602s
Apr  6 16:25:21.625: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=true. Elapsed: 46.609466583s
Apr  6 16:25:23.636: INFO: Pod "client-a-9ffxm": Phase="Running", Reason="", readiness=false. Elapsed: 48.620986986s
[1mSTEP[0m: Updating client pod client-a-9ffxm that should successfully connect to svc-server.
Apr  6 16:25:23.680: INFO: Waiting for client-a-9ffxm to complete.
Apr  6 16:25:25.710: INFO: Waiting for client-a-9ffxm to complete.
Apr  6 16:25:25.712: INFO: Waiting up to 5m0s for pod "client-a-9ffxm" in namespace "network-policy-6998" to be "Succeeded or Failed"
Apr  6 16:25:25.726: INFO: Pod "client-a-9ffxm": Phase="Succeeded", Reason="", readiness=false. Elapsed: 13.429806ms
[1mSTEP[0m: Saw pod success
Apr  6 16:25:25.726: INFO: Pod "client-a-9ffxm" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-9ffxm
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:25:26.178: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-6998" for this suite.

[32m• [SLOW TEST:67.767 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should allow ingress access from updated pod [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:825[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should allow ingress access from updated pod [Feature:NetworkPolicy]","total":26,"completed":21,"skipped":4053,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce policy based on PodSelector or NamespaceSelector [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:291[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 16:25:26.298: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-7867
Apr  6 16:25:26.528: INFO: Created pod server-j8zql
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-7867
Apr  6 16:25:26.584: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:25:26.606: INFO: The status of Pod server-j8zql is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:25:28.611: INFO: The status of Pod server-j8zql is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:25:30.612: INFO: The status of Pod server-j8zql is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:25:32.611: INFO: The status of Pod server-j8zql is Running (Ready = false)
Apr  6 16:25:34.618: INFO: The status of Pod server-j8zql is Running (Ready = false)
Apr  6 16:25:36.612: INFO: The status of Pod server-j8zql is Running (Ready = false)
Apr  6 16:25:38.614: INFO: The status of Pod server-j8zql is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 16:25:38.631: INFO: Waiting for client-can-connect-80-nqq97 to complete.
Apr  6 16:25:42.647: INFO: Waiting for client-can-connect-80-nqq97 to complete.
Apr  6 16:25:42.647: INFO: Waiting up to 5m0s for pod "client-can-connect-80-nqq97" in namespace "network-policy-7867" to be "Succeeded or Failed"
Apr  6 16:25:42.653: INFO: Pod "client-can-connect-80-nqq97": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.248559ms
[1mSTEP[0m: Saw pod success
Apr  6 16:25:42.653: INFO: Pod "client-can-connect-80-nqq97" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-nqq97
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:25:42.686: INFO: Waiting for client-can-connect-81-vlxqt to complete.
Apr  6 16:25:46.702: INFO: Waiting for client-can-connect-81-vlxqt to complete.
Apr  6 16:25:46.702: INFO: Waiting up to 5m0s for pod "client-can-connect-81-vlxqt" in namespace "network-policy-7867" to be "Succeeded or Failed"
Apr  6 16:25:46.715: INFO: Pod "client-can-connect-81-vlxqt": Phase="Succeeded", Reason="", readiness=false. Elapsed: 12.013965ms
[1mSTEP[0m: Saw pod success
Apr  6 16:25:46.715: INFO: Pod "client-can-connect-81-vlxqt" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-vlxqt
[It] should enforce policy based on PodSelector or NamespaceSelector [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:291
[1mSTEP[0m: Creating a network policy for the server which allows traffic from client-b or namespace-b.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 16:25:46.838: INFO: Waiting for client-a-8hgg6 to complete.
Apr  6 16:25:50.911: INFO: Waiting for client-a-8hgg6 to complete.
Apr  6 16:25:50.912: INFO: Waiting up to 5m0s for pod "client-a-8hgg6" in namespace "network-policy-b-4807" to be "Succeeded or Failed"
Apr  6 16:25:50.933: INFO: Pod "client-a-8hgg6": Phase="Succeeded", Reason="", readiness=false. Elapsed: 21.546372ms
[1mSTEP[0m: Saw pod success
Apr  6 16:25:50.933: INFO: Pod "client-a-8hgg6" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-8hgg6
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Apr  6 16:25:50.970: INFO: Waiting for client-b-xlnmv to complete.
Apr  6 16:25:55.004: INFO: Waiting for client-b-xlnmv to complete.
Apr  6 16:25:55.004: INFO: Waiting up to 5m0s for pod "client-b-xlnmv" in namespace "network-policy-7867" to be "Succeeded or Failed"
Apr  6 16:25:55.010: INFO: Pod "client-b-xlnmv": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.899274ms
[1mSTEP[0m: Saw pod success
Apr  6 16:25:55.010: INFO: Pod "client-b-xlnmv" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-xlnmv
[1mSTEP[0m: Creating client pod client-c that should not be able to connect to svc-server.
Apr  6 16:25:55.074: INFO: Waiting for client-c-fb7bv to complete.
Apr  6 16:25:55.075: INFO: Waiting up to 5m0s for pod "client-c-fb7bv" in namespace "network-policy-7867" to be "Succeeded or Failed"
Apr  6 16:25:55.102: INFO: Pod "client-c-fb7bv": Phase="Pending", Reason="", readiness=false. Elapsed: 27.708036ms
Apr  6 16:25:57.108: INFO: Pod "client-c-fb7bv": Phase="Pending", Reason="", readiness=false. Elapsed: 2.033750463s
Apr  6 16:25:59.114: INFO: Pod "client-c-fb7bv": Phase="Running", Reason="", readiness=true. Elapsed: 4.03945102s
Apr  6 16:26:01.120: INFO: Pod "client-c-fb7bv": Phase="Running", Reason="", readiness=true. Elapsed: 6.045224227s
Apr  6 16:26:03.127: INFO: Pod "client-c-fb7bv": Phase="Running", Reason="", readiness=true. Elapsed: 8.052221183s
Apr  6 16:26:05.151: INFO: Pod "client-c-fb7bv": Phase="Running", Reason="", readiness=true. Elapsed: 10.076444884s
Apr  6 16:26:07.164: INFO: Pod "client-c-fb7bv": Phase="Running", Reason="", readiness=true. Elapsed: 12.089553339s
Apr  6 16:26:09.169: INFO: Pod "client-c-fb7bv": Phase="Running", Reason="", readiness=true. Elapsed: 14.094896916s
Apr  6 16:26:11.179: INFO: Pod "client-c-fb7bv": Phase="Running", Reason="", readiness=true. Elapsed: 16.103963987s
Apr  6 16:26:13.184: INFO: Pod "client-c-fb7bv": Phase="Running", Reason="", readiness=true. Elapsed: 18.109228491s
Apr  6 16:26:15.204: INFO: Pod "client-c-fb7bv": Phase="Running", Reason="", readiness=true. Elapsed: 20.12980005s
Apr  6 16:26:17.215: INFO: Pod "client-c-fb7bv": Phase="Running", Reason="", readiness=true. Elapsed: 22.140249993s
Apr  6 16:26:19.221: INFO: Pod "client-c-fb7bv": Phase="Running", Reason="", readiness=true. Elapsed: 24.146779987s
Apr  6 16:26:21.228: INFO: Pod "client-c-fb7bv": Phase="Running", Reason="", readiness=true. Elapsed: 26.15389904s
Apr  6 16:26:23.234: INFO: Pod "client-c-fb7bv": Phase="Running", Reason="", readiness=true. Elapsed: 28.159787823s
Apr  6 16:26:25.263: INFO: Pod "client-c-fb7bv": Phase="Running", Reason="", readiness=true. Elapsed: 30.187988009s
Apr  6 16:26:27.276: INFO: Pod "client-c-fb7bv": Phase="Running", Reason="", readiness=true. Elapsed: 32.201456692s
Apr  6 16:26:29.281: INFO: Pod "client-c-fb7bv": Phase="Running", Reason="", readiness=true. Elapsed: 34.20659639s
Apr  6 16:26:31.289: INFO: Pod "client-c-fb7bv": Phase="Running", Reason="", readiness=true. Elapsed: 36.213972996s
Apr  6 16:26:33.294: INFO: Pod "client-c-fb7bv": Phase="Running", Reason="", readiness=true. Elapsed: 38.219129511s
Apr  6 16:26:35.329: INFO: Pod "client-c-fb7bv": Phase="Running", Reason="", readiness=true. Elapsed: 40.254036377s
Apr  6 16:26:37.335: INFO: Pod "client-c-fb7bv": Phase="Running", Reason="", readiness=true. Elapsed: 42.260248164s
Apr  6 16:26:39.341: INFO: Pod "client-c-fb7bv": Phase="Running", Reason="", readiness=true. Elapsed: 44.266622577s
Apr  6 16:26:41.348: INFO: Pod "client-c-fb7bv": Phase="Running", Reason="", readiness=true. Elapsed: 46.273696948s
Apr  6 16:26:43.370: INFO: Pod "client-c-fb7bv": Phase="Failed", Reason="", readiness=false. Elapsed: 48.295604238s
[1mSTEP[0m: Cleaning up the pod client-c-fb7bv
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:26:43.711: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-7867" for this suite.
[1mSTEP[0m: Destroying namespace "network-policy-b-4807" for this suite.

[32m• [SLOW TEST:77.478 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce policy based on PodSelector or NamespaceSelector [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:291[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce policy based on PodSelector or NamespaceSelector [Feature:NetworkPolicy]","total":26,"completed":22,"skipped":4095,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce egress policy allowing traffic to a server in a different namespace based on PodSelector and NamespaceSelector [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:908[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 16:26:43.858: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-6539
Apr  6 16:26:44.060: INFO: Created pod server-xz2bt
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-6539
Apr  6 16:26:44.110: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:26:44.165: INFO: The status of Pod server-xz2bt is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:26:46.182: INFO: The status of Pod server-xz2bt is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:26:48.172: INFO: The status of Pod server-xz2bt is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:26:50.170: INFO: The status of Pod server-xz2bt is Running (Ready = false)
Apr  6 16:26:52.176: INFO: The status of Pod server-xz2bt is Running (Ready = false)
Apr  6 16:26:54.171: INFO: The status of Pod server-xz2bt is Running (Ready = false)
Apr  6 16:26:56.174: INFO: The status of Pod server-xz2bt is Running (Ready = false)
Apr  6 16:26:58.170: INFO: The status of Pod server-xz2bt is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 16:26:58.179: INFO: Waiting for client-can-connect-80-qq4np to complete.
Apr  6 16:27:02.201: INFO: Waiting for client-can-connect-80-qq4np to complete.
Apr  6 16:27:02.201: INFO: Waiting up to 5m0s for pod "client-can-connect-80-qq4np" in namespace "network-policy-6539" to be "Succeeded or Failed"
Apr  6 16:27:02.205: INFO: Pod "client-can-connect-80-qq4np": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.47583ms
[1mSTEP[0m: Saw pod success
Apr  6 16:27:02.206: INFO: Pod "client-can-connect-80-qq4np" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-qq4np
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:27:02.246: INFO: Waiting for client-can-connect-81-6hg95 to complete.
Apr  6 16:27:06.257: INFO: Waiting for client-can-connect-81-6hg95 to complete.
Apr  6 16:27:06.257: INFO: Waiting up to 5m0s for pod "client-can-connect-81-6hg95" in namespace "network-policy-6539" to be "Succeeded or Failed"
Apr  6 16:27:06.264: INFO: Pod "client-can-connect-81-6hg95": Phase="Succeeded", Reason="", readiness=false. Elapsed: 6.809814ms
[1mSTEP[0m: Saw pod success
Apr  6 16:27:06.264: INFO: Pod "client-can-connect-81-6hg95" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-6hg95
[It] should enforce egress policy allowing traffic to a server in a different namespace based on PodSelector and NamespaceSelector [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:908
[1mSTEP[0m: Creating a server pod ns-b-server-a in namespace network-policy-b-226
Apr  6 16:27:06.395: INFO: Created pod ns-b-server-a-j2srs
[1mSTEP[0m: Creating a service svc-ns-b-server-a for pod ns-b-server-a in namespace network-policy-b-226
Apr  6 16:27:06.582: INFO: Created service svc-ns-b-server-a
[1mSTEP[0m: Creating a server pod ns-b-server-b in namespace network-policy-b-226
Apr  6 16:27:06.611: INFO: Created pod ns-b-server-b-87s46
[1mSTEP[0m: Creating a service svc-ns-b-server-b for pod ns-b-server-b in namespace network-policy-b-226
Apr  6 16:27:06.740: INFO: Created service svc-ns-b-server-b
Apr  6 16:27:06.740: INFO: Waiting for servers to be ready.
Apr  6 16:27:06.759: INFO: The status of Pod server-xz2bt is Running (Ready = true)
Apr  6 16:27:06.788: INFO: The status of Pod ns-b-server-a-j2srs is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:27:08.793: INFO: The status of Pod ns-b-server-a-j2srs is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:27:10.795: INFO: The status of Pod ns-b-server-a-j2srs is Running (Ready = false)
Apr  6 16:27:12.795: INFO: The status of Pod ns-b-server-a-j2srs is Running (Ready = false)
Apr  6 16:27:14.796: INFO: The status of Pod ns-b-server-a-j2srs is Running (Ready = false)
Apr  6 16:27:16.796: INFO: The status of Pod ns-b-server-a-j2srs is Running (Ready = false)
Apr  6 16:27:18.795: INFO: The status of Pod ns-b-server-a-j2srs is Running (Ready = true)
Apr  6 16:27:18.799: INFO: The status of Pod ns-b-server-b-87s46 is Running (Ready = true)
[1mSTEP[0m: Creating a network policy for the server which allows traffic only to a server in different namespace.
[1mSTEP[0m: Creating client-a, in 'namespace-a', which should be able to contact the server-a in namespace-b.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-ns-b-server-a.
Apr  6 16:27:18.831: INFO: Waiting for client-a-nkk6n to complete.
Apr  6 16:27:22.849: INFO: Waiting for client-a-nkk6n to complete.
Apr  6 16:27:22.849: INFO: Waiting up to 5m0s for pod "client-a-nkk6n" in namespace "network-policy-6539" to be "Succeeded or Failed"
Apr  6 16:27:22.855: INFO: Pod "client-a-nkk6n": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.348186ms
[1mSTEP[0m: Saw pod success
Apr  6 16:27:22.855: INFO: Pod "client-a-nkk6n" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-nkk6n
[1mSTEP[0m: Creating client-a, in 'namespace-a', which should not be able to contact the server-b in namespace-b.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-ns-b-server-b.
Apr  6 16:27:22.898: INFO: Waiting for client-a-m4g8n to complete.
Apr  6 16:27:22.898: INFO: Waiting up to 5m0s for pod "client-a-m4g8n" in namespace "network-policy-6539" to be "Succeeded or Failed"
Apr  6 16:27:22.915: INFO: Pod "client-a-m4g8n": Phase="Pending", Reason="", readiness=false. Elapsed: 17.059957ms
Apr  6 16:27:24.925: INFO: Pod "client-a-m4g8n": Phase="Pending", Reason="", readiness=false. Elapsed: 2.027059904s
Apr  6 16:27:26.932: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 4.034097121s
Apr  6 16:27:28.938: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 6.039424231s
Apr  6 16:27:30.943: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 8.044983639s
Apr  6 16:27:32.954: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 10.055611623s
Apr  6 16:27:34.969: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 12.070680619s
Apr  6 16:27:36.977: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 14.079070508s
Apr  6 16:27:38.984: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 16.085751835s
Apr  6 16:27:40.990: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 18.09229408s
Apr  6 16:27:42.994: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 20.096126661s
Apr  6 16:27:45.006: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 22.10802992s
Apr  6 16:27:47.015: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 24.11668071s
Apr  6 16:27:49.020: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 26.122138491s
Apr  6 16:27:51.027: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 28.128827635s
Apr  6 16:27:53.033: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 30.134789867s
Apr  6 16:27:55.043: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 32.145277396s
Apr  6 16:27:57.052: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 34.15399594s
Apr  6 16:27:59.060: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 36.161878871s
Apr  6 16:28:01.065: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 38.166743138s
Apr  6 16:28:03.070: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 40.17192373s
Apr  6 16:28:05.080: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 42.18172302s
Apr  6 16:28:07.088: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 44.189912791s
Apr  6 16:28:09.101: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 46.20250521s
Apr  6 16:28:11.108: INFO: Pod "client-a-m4g8n": Phase="Running", Reason="", readiness=true. Elapsed: 48.209446408s
Apr  6 16:28:13.114: INFO: Pod "client-a-m4g8n": Phase="Failed", Reason="", readiness=false. Elapsed: 50.216286681s
[1mSTEP[0m: Cleaning up the pod client-a-m4g8n
[1mSTEP[0m: Creating client-a, in 'namespace-a', which should not be able to contact the server in namespace-a.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Apr  6 16:28:13.170: INFO: Waiting for client-a-sgcdd to complete.
Apr  6 16:28:13.170: INFO: Waiting up to 5m0s for pod "client-a-sgcdd" in namespace "network-policy-6539" to be "Succeeded or Failed"
Apr  6 16:28:13.202: INFO: Pod "client-a-sgcdd": Phase="Pending", Reason="", readiness=false. Elapsed: 31.98423ms
Apr  6 16:28:15.218: INFO: Pod "client-a-sgcdd": Phase="Pending", Reason="", readiness=false. Elapsed: 2.04824793s
Apr  6 16:28:17.226: INFO: Pod "client-a-sgcdd": Phase="Running", Reason="", readiness=true. Elapsed: 4.055762598s
Apr  6 16:28:19.233: INFO: Pod "client-a-sgcdd": Phase="Running", Reason="", readiness=true. Elapsed: 6.06256874s
Apr  6 16:28:21.265: INFO: Pod "client-a-sgcdd": Phase="Running", Reason="", readiness=true. Elapsed: 8.094586333s
Apr  6 16:28:23.271: INFO: Pod "client-a-sgcdd": Phase="Running", Reason="", readiness=true. Elapsed: 10.100545054s
Apr  6 16:28:25.292: INFO: Pod "client-a-sgcdd": Phase="Running", Reason="", readiness=true. Elapsed: 12.121765097s
Apr  6 16:28:27.300: INFO: Pod "client-a-sgcdd": Phase="Running", Reason="", readiness=true. Elapsed: 14.129436154s
Apr  6 16:28:29.307: INFO: Pod "client-a-sgcdd": Phase="Running", Reason="", readiness=true. Elapsed: 16.137006736s
Apr  6 16:28:31.315: INFO: Pod "client-a-sgcdd": Phase="Running", Reason="", readiness=true. Elapsed: 18.144840295s
Apr  6 16:28:33.322: INFO: Pod "client-a-sgcdd": Phase="Running", Reason="", readiness=true. Elapsed: 20.151539309s
Apr  6 16:28:35.389: INFO: Pod "client-a-sgcdd": Phase="Running", Reason="", readiness=true. Elapsed: 22.218784921s
Apr  6 16:28:37.396: INFO: Pod "client-a-sgcdd": Phase="Running", Reason="", readiness=true. Elapsed: 24.225715273s
Apr  6 16:28:39.401: INFO: Pod "client-a-sgcdd": Phase="Running", Reason="", readiness=true. Elapsed: 26.231255084s
Apr  6 16:28:41.410: INFO: Pod "client-a-sgcdd": Phase="Running", Reason="", readiness=true. Elapsed: 28.239896587s
Apr  6 16:28:43.416: INFO: Pod "client-a-sgcdd": Phase="Running", Reason="", readiness=true. Elapsed: 30.245356095s
Apr  6 16:28:45.452: INFO: Pod "client-a-sgcdd": Phase="Running", Reason="", readiness=true. Elapsed: 32.282255344s
Apr  6 16:28:47.462: INFO: Pod "client-a-sgcdd": Phase="Running", Reason="", readiness=true. Elapsed: 34.291602319s
Apr  6 16:28:49.467: INFO: Pod "client-a-sgcdd": Phase="Running", Reason="", readiness=true. Elapsed: 36.297304154s
Apr  6 16:28:51.474: INFO: Pod "client-a-sgcdd": Phase="Running", Reason="", readiness=true. Elapsed: 38.303578646s
Apr  6 16:28:53.480: INFO: Pod "client-a-sgcdd": Phase="Running", Reason="", readiness=true. Elapsed: 40.309661272s
Apr  6 16:28:55.527: INFO: Pod "client-a-sgcdd": Phase="Running", Reason="", readiness=true. Elapsed: 42.357246271s
Apr  6 16:28:57.536: INFO: Pod "client-a-sgcdd": Phase="Running", Reason="", readiness=true. Elapsed: 44.365612754s
Apr  6 16:28:59.542: INFO: Pod "client-a-sgcdd": Phase="Running", Reason="", readiness=true. Elapsed: 46.372313635s
Apr  6 16:29:01.549: INFO: Pod "client-a-sgcdd": Phase="Failed", Reason="", readiness=false. Elapsed: 48.378779841s
[1mSTEP[0m: Cleaning up the pod client-a-sgcdd
[1mSTEP[0m: Cleaning up the policy.
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:29:02.500: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-6539" for this suite.
[1mSTEP[0m: Destroying namespace "network-policy-b-226" for this suite.

[32m• [SLOW TEST:138.757 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce egress policy allowing traffic to a server in a different namespace based on PodSelector and NamespaceSelector [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:908[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce egress policy allowing traffic to a server in a different namespace based on PodSelector and NamespaceSelector [Feature:NetworkPolicy]","total":26,"completed":23,"skipped":4279,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce except clause while egress access to server in CIDR block [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1308[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 16:29:02.687: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-9611
Apr  6 16:29:02.877: INFO: Created pod server-cwc54
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-9611
Apr  6 16:29:02.944: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:29:02.963: INFO: The status of Pod server-cwc54 is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:29:04.974: INFO: The status of Pod server-cwc54 is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:29:06.975: INFO: The status of Pod server-cwc54 is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:29:08.971: INFO: The status of Pod server-cwc54 is Running (Ready = false)
Apr  6 16:29:10.984: INFO: The status of Pod server-cwc54 is Running (Ready = false)
Apr  6 16:29:12.971: INFO: The status of Pod server-cwc54 is Running (Ready = false)
Apr  6 16:29:14.971: INFO: The status of Pod server-cwc54 is Running (Ready = false)
Apr  6 16:29:16.975: INFO: The status of Pod server-cwc54 is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 16:29:17.001: INFO: Waiting for client-can-connect-80-q6tgw to complete.
Apr  6 16:29:21.024: INFO: Waiting for client-can-connect-80-q6tgw to complete.
Apr  6 16:29:21.024: INFO: Waiting up to 5m0s for pod "client-can-connect-80-q6tgw" in namespace "network-policy-9611" to be "Succeeded or Failed"
Apr  6 16:29:21.028: INFO: Pod "client-can-connect-80-q6tgw": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.570412ms
[1mSTEP[0m: Saw pod success
Apr  6 16:29:21.028: INFO: Pod "client-can-connect-80-q6tgw" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-q6tgw
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:29:21.086: INFO: Waiting for client-can-connect-81-cxwst to complete.
Apr  6 16:29:25.103: INFO: Waiting for client-can-connect-81-cxwst to complete.
Apr  6 16:29:25.103: INFO: Waiting up to 5m0s for pod "client-can-connect-81-cxwst" in namespace "network-policy-9611" to be "Succeeded or Failed"
Apr  6 16:29:25.109: INFO: Pod "client-can-connect-81-cxwst": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.89127ms
[1mSTEP[0m: Saw pod success
Apr  6 16:29:25.109: INFO: Pod "client-can-connect-81-cxwst" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-cxwst
[It] should enforce except clause while egress access to server in CIDR block [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1308
[1mSTEP[0m: Creating client-a which should be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 16:29:25.193: INFO: Waiting for client-a-jjq27 to complete.
Apr  6 16:29:29.214: INFO: Waiting for client-a-jjq27 to complete.
Apr  6 16:29:29.215: INFO: Waiting up to 5m0s for pod "client-a-jjq27" in namespace "network-policy-9611" to be "Succeeded or Failed"
Apr  6 16:29:29.219: INFO: Pod "client-a-jjq27": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.0486ms
[1mSTEP[0m: Saw pod success
Apr  6 16:29:29.219: INFO: Pod "client-a-jjq27" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-jjq27
[1mSTEP[0m: Creating client-a which should no longer be able to contact the server.
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Apr  6 16:29:29.302: INFO: Waiting for client-a-9k5c2 to complete.
Apr  6 16:29:29.302: INFO: Waiting up to 5m0s for pod "client-a-9k5c2" in namespace "network-policy-9611" to be "Succeeded or Failed"
Apr  6 16:29:29.312: INFO: Pod "client-a-9k5c2": Phase="Pending", Reason="", readiness=false. Elapsed: 10.799811ms
Apr  6 16:29:31.325: INFO: Pod "client-a-9k5c2": Phase="Pending", Reason="", readiness=false. Elapsed: 2.022893579s
Apr  6 16:29:33.332: INFO: Pod "client-a-9k5c2": Phase="Running", Reason="", readiness=true. Elapsed: 4.030300537s
Apr  6 16:29:35.344: INFO: Pod "client-a-9k5c2": Phase="Running", Reason="", readiness=true. Elapsed: 6.041850148s
Apr  6 16:29:37.355: INFO: Pod "client-a-9k5c2": Phase="Running", Reason="", readiness=true. Elapsed: 8.053460993s
Apr  6 16:29:39.360: INFO: Pod "client-a-9k5c2": Phase="Running", Reason="", readiness=true. Elapsed: 10.058270709s
Apr  6 16:29:41.366: INFO: Pod "client-a-9k5c2": Phase="Running", Reason="", readiness=true. Elapsed: 12.064466512s
Apr  6 16:29:43.372: INFO: Pod "client-a-9k5c2": Phase="Running", Reason="", readiness=true. Elapsed: 14.070742539s
Apr  6 16:29:45.384: INFO: Pod "client-a-9k5c2": Phase="Running", Reason="", readiness=true. Elapsed: 16.082101732s
Apr  6 16:29:47.399: INFO: Pod "client-a-9k5c2": Phase="Running", Reason="", readiness=true. Elapsed: 18.096949687s
Apr  6 16:29:49.405: INFO: Pod "client-a-9k5c2": Phase="Running", Reason="", readiness=true. Elapsed: 20.103809486s
Apr  6 16:29:51.411: INFO: Pod "client-a-9k5c2": Phase="Running", Reason="", readiness=true. Elapsed: 22.109742057s
Apr  6 16:29:53.418: INFO: Pod "client-a-9k5c2": Phase="Running", Reason="", readiness=true. Elapsed: 24.116460867s
Apr  6 16:29:55.430: INFO: Pod "client-a-9k5c2": Phase="Running", Reason="", readiness=true. Elapsed: 26.128510771s
Apr  6 16:29:57.438: INFO: Pod "client-a-9k5c2": Phase="Running", Reason="", readiness=true. Elapsed: 28.136683559s
Apr  6 16:29:59.445: INFO: Pod "client-a-9k5c2": Phase="Running", Reason="", readiness=true. Elapsed: 30.143680722s
Apr  6 16:30:01.451: INFO: Pod "client-a-9k5c2": Phase="Running", Reason="", readiness=true. Elapsed: 32.14965953s
Apr  6 16:30:03.458: INFO: Pod "client-a-9k5c2": Phase="Running", Reason="", readiness=true. Elapsed: 34.155839717s
Apr  6 16:30:05.473: INFO: Pod "client-a-9k5c2": Phase="Running", Reason="", readiness=true. Elapsed: 36.17088002s
Apr  6 16:30:07.479: INFO: Pod "client-a-9k5c2": Phase="Running", Reason="", readiness=true. Elapsed: 38.177746908s
Apr  6 16:30:09.488: INFO: Pod "client-a-9k5c2": Phase="Running", Reason="", readiness=true. Elapsed: 40.186090765s
Apr  6 16:30:11.510: INFO: Pod "client-a-9k5c2": Phase="Running", Reason="", readiness=true. Elapsed: 42.207827396s
Apr  6 16:30:13.515: INFO: Pod "client-a-9k5c2": Phase="Running", Reason="", readiness=true. Elapsed: 44.213586514s
Apr  6 16:30:15.533: INFO: Pod "client-a-9k5c2": Phase="Running", Reason="", readiness=true. Elapsed: 46.231594526s
Apr  6 16:30:17.541: INFO: Pod "client-a-9k5c2": Phase="Failed", Reason="", readiness=false. Elapsed: 48.23970315s
[1mSTEP[0m: Cleaning up the pod client-a-9k5c2
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:30:17.862: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-9611" for this suite.

[32m• [SLOW TEST:75.219 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce except clause while egress access to server in CIDR block [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:1308[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce except clause while egress access to server in CIDR block [Feature:NetworkPolicy]","total":26,"completed":24,"skipped":4307,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould allow ingress access from namespace on one named port [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:600[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 16:30:18.066: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-7930
Apr  6 16:30:18.473: INFO: Created pod server-4lqmw
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-7930
Apr  6 16:30:18.622: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:30:18.648: INFO: The status of Pod server-4lqmw is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:30:20.654: INFO: The status of Pod server-4lqmw is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:30:22.653: INFO: The status of Pod server-4lqmw is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:30:25.668: INFO: The status of Pod server-4lqmw is Running (Ready = false)
Apr  6 16:30:26.790: INFO: The status of Pod server-4lqmw is Running (Ready = false)
Apr  6 16:30:28.689: INFO: The status of Pod server-4lqmw is Running (Ready = false)
Apr  6 16:30:30.657: INFO: The status of Pod server-4lqmw is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 16:30:30.687: INFO: Waiting for client-can-connect-80-n6vrv to complete.
Apr  6 16:30:36.711: INFO: Waiting for client-can-connect-80-n6vrv to complete.
Apr  6 16:30:36.712: INFO: Waiting up to 5m0s for pod "client-can-connect-80-n6vrv" in namespace "network-policy-7930" to be "Succeeded or Failed"
Apr  6 16:30:36.721: INFO: Pod "client-can-connect-80-n6vrv": Phase="Succeeded", Reason="", readiness=false. Elapsed: 7.873334ms
[1mSTEP[0m: Saw pod success
Apr  6 16:30:36.721: INFO: Pod "client-can-connect-80-n6vrv" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-n6vrv
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:30:36.778: INFO: Waiting for client-can-connect-81-hgsz7 to complete.
Apr  6 16:30:40.807: INFO: Waiting for client-can-connect-81-hgsz7 to complete.
Apr  6 16:30:40.807: INFO: Waiting up to 5m0s for pod "client-can-connect-81-hgsz7" in namespace "network-policy-7930" to be "Succeeded or Failed"
Apr  6 16:30:40.811: INFO: Pod "client-can-connect-81-hgsz7": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.848615ms
[1mSTEP[0m: Saw pod success
Apr  6 16:30:40.811: INFO: Pod "client-can-connect-81-hgsz7" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-hgsz7
[It] should allow ingress access from namespace on one named port [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:600
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Apr  6 16:30:41.009: INFO: Waiting for client-a-wt7t4 to complete.
Apr  6 16:30:41.009: INFO: Waiting up to 5m0s for pod "client-a-wt7t4" in namespace "network-policy-7930" to be "Succeeded or Failed"
Apr  6 16:30:41.051: INFO: Pod "client-a-wt7t4": Phase="Pending", Reason="", readiness=false. Elapsed: 41.9034ms
Apr  6 16:30:43.057: INFO: Pod "client-a-wt7t4": Phase="Pending", Reason="", readiness=false. Elapsed: 2.048276831s
Apr  6 16:30:45.066: INFO: Pod "client-a-wt7t4": Phase="Running", Reason="", readiness=true. Elapsed: 4.057418341s
Apr  6 16:30:47.073: INFO: Pod "client-a-wt7t4": Phase="Running", Reason="", readiness=true. Elapsed: 6.064360685s
Apr  6 16:30:49.080: INFO: Pod "client-a-wt7t4": Phase="Running", Reason="", readiness=true. Elapsed: 8.07110099s
Apr  6 16:30:51.085: INFO: Pod "client-a-wt7t4": Phase="Running", Reason="", readiness=true. Elapsed: 10.076585618s
Apr  6 16:30:53.092: INFO: Pod "client-a-wt7t4": Phase="Running", Reason="", readiness=true. Elapsed: 12.083705217s
Apr  6 16:30:55.103: INFO: Pod "client-a-wt7t4": Phase="Running", Reason="", readiness=true. Elapsed: 14.093924853s
Apr  6 16:30:57.110: INFO: Pod "client-a-wt7t4": Phase="Running", Reason="", readiness=true. Elapsed: 16.101308174s
Apr  6 16:30:59.116: INFO: Pod "client-a-wt7t4": Phase="Running", Reason="", readiness=true. Elapsed: 18.106783318s
Apr  6 16:31:01.122: INFO: Pod "client-a-wt7t4": Phase="Running", Reason="", readiness=true. Elapsed: 20.113275226s
Apr  6 16:31:03.129: INFO: Pod "client-a-wt7t4": Phase="Running", Reason="", readiness=true. Elapsed: 22.120293605s
Apr  6 16:31:05.141: INFO: Pod "client-a-wt7t4": Phase="Running", Reason="", readiness=true. Elapsed: 24.132354576s
Apr  6 16:31:07.150: INFO: Pod "client-a-wt7t4": Phase="Running", Reason="", readiness=true. Elapsed: 26.141252805s
Apr  6 16:31:09.158: INFO: Pod "client-a-wt7t4": Phase="Running", Reason="", readiness=true. Elapsed: 28.148971261s
Apr  6 16:31:11.163: INFO: Pod "client-a-wt7t4": Phase="Running", Reason="", readiness=true. Elapsed: 30.154626227s
Apr  6 16:31:13.169: INFO: Pod "client-a-wt7t4": Phase="Running", Reason="", readiness=true. Elapsed: 32.160187495s
Apr  6 16:31:15.192: INFO: Pod "client-a-wt7t4": Phase="Running", Reason="", readiness=true. Elapsed: 34.183642773s
Apr  6 16:31:17.205: INFO: Pod "client-a-wt7t4": Phase="Running", Reason="", readiness=true. Elapsed: 36.196056476s
Apr  6 16:31:19.210: INFO: Pod "client-a-wt7t4": Phase="Running", Reason="", readiness=true. Elapsed: 38.201548987s
Apr  6 16:31:21.216: INFO: Pod "client-a-wt7t4": Phase="Running", Reason="", readiness=true. Elapsed: 40.206777209s
Apr  6 16:31:23.231: INFO: Pod "client-a-wt7t4": Phase="Running", Reason="", readiness=true. Elapsed: 42.222457823s
Apr  6 16:31:25.250: INFO: Pod "client-a-wt7t4": Phase="Running", Reason="", readiness=true. Elapsed: 44.241527556s
Apr  6 16:31:27.267: INFO: Pod "client-a-wt7t4": Phase="Running", Reason="", readiness=true. Elapsed: 46.257824322s
Apr  6 16:31:29.274: INFO: Pod "client-a-wt7t4": Phase="Failed", Reason="", readiness=false. Elapsed: 48.2647585s
[1mSTEP[0m: Cleaning up the pod client-a-wt7t4
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Apr  6 16:31:29.380: INFO: Waiting for client-b-t8jcx to complete.
Apr  6 16:31:33.410: INFO: Waiting for client-b-t8jcx to complete.
Apr  6 16:31:33.411: INFO: Waiting up to 5m0s for pod "client-b-t8jcx" in namespace "network-policy-b-4876" to be "Succeeded or Failed"
Apr  6 16:31:33.414: INFO: Pod "client-b-t8jcx": Phase="Succeeded", Reason="", readiness=false. Elapsed: 3.958356ms
[1mSTEP[0m: Saw pod success
Apr  6 16:31:33.415: INFO: Pod "client-b-t8jcx" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-t8jcx
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:31:33.696: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-7930" for this suite.
[1mSTEP[0m: Destroying namespace "network-policy-b-4876" for this suite.

[32m• [SLOW TEST:75.727 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should allow ingress access from namespace on one named port [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:600[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should allow ingress access from namespace on one named port [Feature:NetworkPolicy]","total":26,"completed":25,"skipped":4655,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m
[90m------------------------------[0m
[0m[sig-network] NetworkPolicy [LinuxOnly][0m [90mNetworkPolicy between server and client[0m 
  [1mshould enforce updated policy [Feature:NetworkPolicy][0m
  [37m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:685[0m
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:178
[1mSTEP[0m: Creating a kubernetes client
Apr  6 16:31:33.940: INFO: >>> kubeConfig: /etc/kubernetes/admin.conf
[1mSTEP[0m: Building a namespace api object, basename network-policy
[1mSTEP[0m: Waiting for a default service account to be provisioned in namespace
[BeforeEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:52
[BeforeEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:58
[1mSTEP[0m: Creating a simple server that serves on port 80 and 81.
[1mSTEP[0m: Creating a server pod server in namespace network-policy-8512
Apr  6 16:31:34.146: INFO: Created pod server-dqddf
[1mSTEP[0m: Creating a service svc-server for pod server in namespace network-policy-8512
Apr  6 16:31:34.209: INFO: Created service svc-server
[1mSTEP[0m: Waiting for pod ready
Apr  6 16:31:34.250: INFO: The status of Pod server-dqddf is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:31:36.284: INFO: The status of Pod server-dqddf is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:31:38.256: INFO: The status of Pod server-dqddf is Pending, waiting for it to be Running (with Ready = true)
Apr  6 16:31:40.256: INFO: The status of Pod server-dqddf is Running (Ready = false)
Apr  6 16:31:42.257: INFO: The status of Pod server-dqddf is Running (Ready = false)
Apr  6 16:31:44.256: INFO: The status of Pod server-dqddf is Running (Ready = true)
[1mSTEP[0m: Testing pods can connect to both ports when no policy is present.
[1mSTEP[0m: Creating client pod client-can-connect-80 that should successfully connect to svc-server.
Apr  6 16:31:44.266: INFO: Waiting for client-can-connect-80-4lc72 to complete.
Apr  6 16:31:48.313: INFO: Waiting for client-can-connect-80-4lc72 to complete.
Apr  6 16:31:48.315: INFO: Waiting up to 5m0s for pod "client-can-connect-80-4lc72" in namespace "network-policy-8512" to be "Succeeded or Failed"
Apr  6 16:31:48.319: INFO: Pod "client-can-connect-80-4lc72": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.014454ms
[1mSTEP[0m: Saw pod success
Apr  6 16:31:48.319: INFO: Pod "client-can-connect-80-4lc72" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-80-4lc72
[1mSTEP[0m: Creating client pod client-can-connect-81 that should successfully connect to svc-server.
Apr  6 16:31:48.417: INFO: Waiting for client-can-connect-81-v9wfr to complete.
Apr  6 16:31:52.461: INFO: Waiting for client-can-connect-81-v9wfr to complete.
Apr  6 16:31:52.461: INFO: Waiting up to 5m0s for pod "client-can-connect-81-v9wfr" in namespace "network-policy-8512" to be "Succeeded or Failed"
Apr  6 16:31:52.467: INFO: Pod "client-can-connect-81-v9wfr": Phase="Succeeded", Reason="", readiness=false. Elapsed: 5.89826ms
[1mSTEP[0m: Saw pod success
Apr  6 16:31:52.467: INFO: Pod "client-can-connect-81-v9wfr" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-can-connect-81-v9wfr
[It] should enforce updated policy [Feature:NetworkPolicy]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:685
[1mSTEP[0m: Creating a network policy for the Service which allows traffic from pod at a port
[1mSTEP[0m: Creating client pod client-a that should successfully connect to svc-server.
Apr  6 16:31:52.549: INFO: Waiting for client-a-2hxpd to complete.
Apr  6 16:31:56.609: INFO: Waiting for client-a-2hxpd to complete.
Apr  6 16:31:56.611: INFO: Waiting up to 5m0s for pod "client-a-2hxpd" in namespace "network-policy-8512" to be "Succeeded or Failed"
Apr  6 16:31:56.626: INFO: Pod "client-a-2hxpd": Phase="Succeeded", Reason="", readiness=false. Elapsed: 13.730964ms
[1mSTEP[0m: Saw pod success
Apr  6 16:31:56.626: INFO: Pod "client-a-2hxpd" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-a-2hxpd
[1mSTEP[0m: Creating client pod client-b that should not be able to connect to svc-server.
Apr  6 16:31:56.693: INFO: Waiting for client-b-dtdln to complete.
Apr  6 16:31:56.693: INFO: Waiting up to 5m0s for pod "client-b-dtdln" in namespace "network-policy-8512" to be "Succeeded or Failed"
Apr  6 16:31:56.699: INFO: Pod "client-b-dtdln": Phase="Pending", Reason="", readiness=false. Elapsed: 6.01886ms
Apr  6 16:31:58.726: INFO: Pod "client-b-dtdln": Phase="Pending", Reason="", readiness=false. Elapsed: 2.033044565s
Apr  6 16:32:00.733: INFO: Pod "client-b-dtdln": Phase="Running", Reason="", readiness=true. Elapsed: 4.039282657s
Apr  6 16:32:02.741: INFO: Pod "client-b-dtdln": Phase="Running", Reason="", readiness=true. Elapsed: 6.047841877s
Apr  6 16:32:04.747: INFO: Pod "client-b-dtdln": Phase="Running", Reason="", readiness=true. Elapsed: 8.053685228s
Apr  6 16:32:06.759: INFO: Pod "client-b-dtdln": Phase="Running", Reason="", readiness=true. Elapsed: 10.065848464s
Apr  6 16:32:08.769: INFO: Pod "client-b-dtdln": Phase="Running", Reason="", readiness=true. Elapsed: 12.075835204s
Apr  6 16:32:10.779: INFO: Pod "client-b-dtdln": Phase="Running", Reason="", readiness=true. Elapsed: 14.0852726s
Apr  6 16:32:12.785: INFO: Pod "client-b-dtdln": Phase="Running", Reason="", readiness=true. Elapsed: 16.091218661s
Apr  6 16:32:14.879: INFO: Pod "client-b-dtdln": Phase="Running", Reason="", readiness=true. Elapsed: 18.185755062s
Apr  6 16:32:16.894: INFO: Pod "client-b-dtdln": Phase="Running", Reason="", readiness=true. Elapsed: 20.200554309s
Apr  6 16:32:18.904: INFO: Pod "client-b-dtdln": Phase="Running", Reason="", readiness=true. Elapsed: 22.210838583s
Apr  6 16:32:21.029: INFO: Pod "client-b-dtdln": Phase="Running", Reason="", readiness=true. Elapsed: 24.335677787s
Apr  6 16:32:23.056: INFO: Pod "client-b-dtdln": Phase="Running", Reason="", readiness=true. Elapsed: 26.36234835s
Apr  6 16:32:25.113: INFO: Pod "client-b-dtdln": Phase="Running", Reason="", readiness=true. Elapsed: 28.419626374s
Apr  6 16:32:27.124: INFO: Pod "client-b-dtdln": Phase="Running", Reason="", readiness=true. Elapsed: 30.430241922s
Apr  6 16:32:29.134: INFO: Pod "client-b-dtdln": Phase="Running", Reason="", readiness=true. Elapsed: 32.440349214s
Apr  6 16:32:31.178: INFO: Pod "client-b-dtdln": Phase="Running", Reason="", readiness=true. Elapsed: 34.485046505s
Apr  6 16:32:33.185: INFO: Pod "client-b-dtdln": Phase="Running", Reason="", readiness=true. Elapsed: 36.491946131s
Apr  6 16:32:35.200: INFO: Pod "client-b-dtdln": Phase="Running", Reason="", readiness=true. Elapsed: 38.506824657s
Apr  6 16:32:37.211: INFO: Pod "client-b-dtdln": Phase="Running", Reason="", readiness=true. Elapsed: 40.517662423s
Apr  6 16:32:39.217: INFO: Pod "client-b-dtdln": Phase="Running", Reason="", readiness=true. Elapsed: 42.523655086s
Apr  6 16:32:41.224: INFO: Pod "client-b-dtdln": Phase="Running", Reason="", readiness=true. Elapsed: 44.53072981s
Apr  6 16:32:43.230: INFO: Pod "client-b-dtdln": Phase="Running", Reason="", readiness=true. Elapsed: 46.536707747s
Apr  6 16:32:45.239: INFO: Pod "client-b-dtdln": Phase="Failed", Reason="", readiness=false. Elapsed: 48.545313728s
[1mSTEP[0m: Cleaning up the pod client-b-dtdln
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Apr  6 16:32:45.367: INFO: Waiting for client-a-2wjct to complete.
Apr  6 16:32:45.367: INFO: Waiting up to 5m0s for pod "client-a-2wjct" in namespace "network-policy-8512" to be "Succeeded or Failed"
Apr  6 16:32:45.376: INFO: Pod "client-a-2wjct": Phase="Pending", Reason="", readiness=false. Elapsed: 8.233088ms
Apr  6 16:32:47.381: INFO: Pod "client-a-2wjct": Phase="Pending", Reason="", readiness=false. Elapsed: 2.013849239s
Apr  6 16:32:49.386: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 4.018792331s
Apr  6 16:32:51.392: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 6.024536134s
Apr  6 16:32:53.397: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 8.029434142s
Apr  6 16:32:55.405: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 10.037735626s
Apr  6 16:32:57.411: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 12.043494177s
Apr  6 16:32:59.416: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 14.048646283s
Apr  6 16:33:01.422: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 16.054181937s
Apr  6 16:33:03.430: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 18.062689237s
Apr  6 16:33:05.443: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 20.075387462s
Apr  6 16:33:07.450: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 22.082259803s
Apr  6 16:33:09.455: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 24.087838219s
Apr  6 16:33:11.460: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 26.092857567s
Apr  6 16:33:13.466: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 28.098519403s
Apr  6 16:33:15.478: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 30.110146751s
Apr  6 16:33:17.488: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 32.120306549s
Apr  6 16:33:19.495: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 34.127539718s
Apr  6 16:33:21.502: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 36.134376476s
Apr  6 16:33:23.509: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 38.141577837s
Apr  6 16:33:25.521: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 40.153687264s
Apr  6 16:33:27.531: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 42.163290634s
Apr  6 16:33:29.538: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 44.171051455s
Apr  6 16:33:31.544: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 46.17658799s
Apr  6 16:33:33.551: INFO: Pod "client-a-2wjct": Phase="Running", Reason="", readiness=true. Elapsed: 48.183122772s
Apr  6 16:33:35.566: INFO: Pod "client-a-2wjct": Phase="Failed", Reason="", readiness=false. Elapsed: 50.198315247s
[1mSTEP[0m: Cleaning up the pod client-a-2wjct
[1mSTEP[0m: Updating a network policy for the Service which allows traffic from another pod at another port.
[1mSTEP[0m: Creating client pod client-b that should not be able to connect to svc-server.
Apr  6 16:33:35.712: INFO: Waiting for client-b-q742f to complete.
Apr  6 16:33:35.712: INFO: Waiting up to 5m0s for pod "client-b-q742f" in namespace "network-policy-8512" to be "Succeeded or Failed"
Apr  6 16:33:35.755: INFO: Pod "client-b-q742f": Phase="Pending", Reason="", readiness=false. Elapsed: 43.429304ms
Apr  6 16:33:37.764: INFO: Pod "client-b-q742f": Phase="Pending", Reason="", readiness=false. Elapsed: 2.05196307s
Apr  6 16:33:39.778: INFO: Pod "client-b-q742f": Phase="Running", Reason="", readiness=true. Elapsed: 4.065884211s
Apr  6 16:33:41.783: INFO: Pod "client-b-q742f": Phase="Running", Reason="", readiness=true. Elapsed: 6.071621587s
Apr  6 16:33:43.788: INFO: Pod "client-b-q742f": Phase="Running", Reason="", readiness=true. Elapsed: 8.075973809s
Apr  6 16:33:45.800: INFO: Pod "client-b-q742f": Phase="Running", Reason="", readiness=true. Elapsed: 10.087913082s
Apr  6 16:33:47.808: INFO: Pod "client-b-q742f": Phase="Running", Reason="", readiness=true. Elapsed: 12.095794121s
Apr  6 16:33:49.813: INFO: Pod "client-b-q742f": Phase="Running", Reason="", readiness=true. Elapsed: 14.100884961s
Apr  6 16:33:51.829: INFO: Pod "client-b-q742f": Phase="Running", Reason="", readiness=true. Elapsed: 16.117161582s
Apr  6 16:33:53.835: INFO: Pod "client-b-q742f": Phase="Running", Reason="", readiness=true. Elapsed: 18.123130553s
Apr  6 16:33:55.852: INFO: Pod "client-b-q742f": Phase="Running", Reason="", readiness=true. Elapsed: 20.140102698s
Apr  6 16:33:57.859: INFO: Pod "client-b-q742f": Phase="Running", Reason="", readiness=true. Elapsed: 22.146720257s
Apr  6 16:33:59.863: INFO: Pod "client-b-q742f": Phase="Running", Reason="", readiness=true. Elapsed: 24.151434622s
Apr  6 16:34:01.872: INFO: Pod "client-b-q742f": Phase="Running", Reason="", readiness=true. Elapsed: 26.160489696s
Apr  6 16:34:03.879: INFO: Pod "client-b-q742f": Phase="Running", Reason="", readiness=true. Elapsed: 28.167671185s
Apr  6 16:34:05.891: INFO: Pod "client-b-q742f": Phase="Running", Reason="", readiness=true. Elapsed: 30.17900504s
Apr  6 16:34:07.899: INFO: Pod "client-b-q742f": Phase="Running", Reason="", readiness=true. Elapsed: 32.187668611s
Apr  6 16:34:09.904: INFO: Pod "client-b-q742f": Phase="Running", Reason="", readiness=true. Elapsed: 34.192628783s
Apr  6 16:34:11.909: INFO: Pod "client-b-q742f": Phase="Running", Reason="", readiness=true. Elapsed: 36.197047263s
Apr  6 16:34:13.916: INFO: Pod "client-b-q742f": Phase="Running", Reason="", readiness=true. Elapsed: 38.203878716s
Apr  6 16:34:15.933: INFO: Pod "client-b-q742f": Phase="Running", Reason="", readiness=true. Elapsed: 40.221510117s
Apr  6 16:34:17.950: INFO: Pod "client-b-q742f": Phase="Running", Reason="", readiness=true. Elapsed: 42.237874427s
Apr  6 16:34:19.958: INFO: Pod "client-b-q742f": Phase="Running", Reason="", readiness=true. Elapsed: 44.246322578s
Apr  6 16:34:21.965: INFO: Pod "client-b-q742f": Phase="Running", Reason="", readiness=true. Elapsed: 46.252746568s
Apr  6 16:34:23.988: INFO: Pod "client-b-q742f": Phase="Failed", Reason="", readiness=false. Elapsed: 48.276140203s
[1mSTEP[0m: Cleaning up the pod client-b-q742f
[1mSTEP[0m: Creating client pod client-a that should not be able to connect to svc-server.
Apr  6 16:34:24.089: INFO: Waiting for client-a-vlhcq to complete.
Apr  6 16:34:24.089: INFO: Waiting up to 5m0s for pod "client-a-vlhcq" in namespace "network-policy-8512" to be "Succeeded or Failed"
Apr  6 16:34:24.103: INFO: Pod "client-a-vlhcq": Phase="Pending", Reason="", readiness=false. Elapsed: 13.697516ms
Apr  6 16:34:26.177: INFO: Pod "client-a-vlhcq": Phase="Pending", Reason="", readiness=false. Elapsed: 2.087479888s
Apr  6 16:34:28.183: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 4.093425411s
Apr  6 16:34:30.187: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 6.097964914s
Apr  6 16:34:32.193: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 8.103527479s
Apr  6 16:34:34.200: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 10.11038595s
Apr  6 16:34:36.211: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 12.122163822s
Apr  6 16:34:38.220: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 14.130407897s
Apr  6 16:34:40.228: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 16.138243816s
Apr  6 16:34:42.240: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 18.150814079s
Apr  6 16:34:44.247: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 20.158095367s
Apr  6 16:34:46.259: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 22.169758535s
Apr  6 16:34:48.265: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 24.176083928s
Apr  6 16:34:50.275: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 26.18574341s
Apr  6 16:34:52.282: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 28.192422927s
Apr  6 16:34:54.289: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 30.19956007s
Apr  6 16:34:56.294: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 32.204803497s
Apr  6 16:34:58.299: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 34.210109448s
Apr  6 16:35:00.306: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 36.217187871s
Apr  6 16:35:02.312: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 38.223092019s
Apr  6 16:35:04.320: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 40.230827799s
Apr  6 16:35:06.327: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 42.237384533s
Apr  6 16:35:08.333: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 44.243389409s
Apr  6 16:35:10.362: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 46.27238677s
Apr  6 16:35:12.367: INFO: Pod "client-a-vlhcq": Phase="Running", Reason="", readiness=true. Elapsed: 48.277741145s
Apr  6 16:35:14.375: INFO: Pod "client-a-vlhcq": Phase="Failed", Reason="", readiness=false. Elapsed: 50.285272174s
[1mSTEP[0m: Cleaning up the pod client-a-vlhcq
[1mSTEP[0m: Creating client pod client-b that should successfully connect to svc-server.
Apr  6 16:35:14.433: INFO: Waiting for client-b-7kh4t to complete.
Apr  6 16:35:18.452: INFO: Waiting for client-b-7kh4t to complete.
Apr  6 16:35:18.452: INFO: Waiting up to 5m0s for pod "client-b-7kh4t" in namespace "network-policy-8512" to be "Succeeded or Failed"
Apr  6 16:35:18.457: INFO: Pod "client-b-7kh4t": Phase="Succeeded", Reason="", readiness=false. Elapsed: 4.804382ms
[1mSTEP[0m: Saw pod success
Apr  6 16:35:18.457: INFO: Pod "client-b-7kh4t" satisfied condition "Succeeded or Failed"
[1mSTEP[0m: Cleaning up the pod client-b-7kh4t
[1mSTEP[0m: Cleaning up the policy.
[AfterEach] NetworkPolicy between server and client
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:76
[1mSTEP[0m: Cleaning up the server.
[1mSTEP[0m: Cleaning up the server's service.
[AfterEach] [sig-network] NetworkPolicy [LinuxOnly]
  /root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/framework/framework.go:179
Apr  6 16:35:18.800: INFO: Waiting up to 3m0s for all (but 0) nodes to be ready
[1mSTEP[0m: Destroying namespace "network-policy-8512" for this suite.

[32m• [SLOW TEST:224.889 seconds][0m
[sig-network] NetworkPolicy [LinuxOnly]
[90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/framework.go:23[0m
  NetworkPolicy between server and client
  [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:57[0m
    should enforce updated policy [Feature:NetworkPolicy]
    [90m/root/kubernetes/_output/local/go/src/k8s.io/kubernetes/test/e2e/network/network_policy.go:685[0m
[90m------------------------------[0m
{"msg":"PASSED [sig-network] NetworkPolicy [LinuxOnly] NetworkPolicy between server and client should enforce updated policy [Feature:NetworkPolicy]","total":26,"completed":26,"skipped":4774,"failed":0}
[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0m[36mS[0mApr  6 16:35:18.874: INFO: Running AfterSuite actions on all nodes
Apr  6 16:35:18.876: INFO: Running AfterSuite actions on node 1
{"msg":"Test Suite completed","total":26,"completed":26,"skipped":4823,"failed":0}

[1m[32mRan 26 of 4849 Specs in 2444.722 seconds[0m
[1m[32mSUCCESS![0m -- [32m[1m26 Passed[0m | [91m[1m0 Failed[0m | [33m[1m0 Pending[0m | [36m[1m4823 Skipped[0m
PASS
